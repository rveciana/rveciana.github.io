{"title":"XState and Svelte II: Creating the traffic lights","contents":"<p>In the <a href=\"/svelte/2020/04/08/gpujs-example.html\">last post</a>, the <a href=\"https://xstate.js.org/\">XState</a> machine combined with Svelte was explained.\nNow, let&#39;s check how to prepare a semaphore to show the library capabilities in a nice way.</p>\n<p>Let&#39;s see a simple way draw a semaphore:\n<pre><code>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> width <span class=\"token operator\">=</span> <span class=\"token number\">150</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> height <span class=\"token operator\">=</span> <span class=\"token number\">150</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> status <span class=\"token operator\">=</span> <span class=\"token string\">\"green\"</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">{width}</span> <span class=\"token attr-name\">{height}</span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 120 320<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>rect</span> <span class=\"token attr-name\">x</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span>  <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>300<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">rx</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ry</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>black<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n&lt;circle r=\"40\" fill={status===\"red\"?\"red\":\"grey\"} cx=\"60\" cy=\"60\" />\n&lt;circle r=\"40\" fill={status===\"yellow\"?\"yellow\":\"grey\"} cx=\"60\" cy=\"160\" />\n&lt;circle r=\"40\" fill={status===\"green\"?\"lime\":\"grey\"} cx=\"60\" cy=\"260\" />\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span>\n</code></pre>\nBasically, <code>status</code> can be <code>green</code>, <code>yellow</code> and <code>red</code>. This is what will decide for each light, if it&#39;s gray or coloured. The size can be changed too, so we can create as many traffic lights as we want with the needed size.</p>\n<p>But this semaphore changed the values too fast. To make it more realistic, the lights should turn off and on with a short transition. This can be done with a <a href=\"https://svelte.dev/tutorial/tweened\">svelte tweened motion</a>:</p>\n<p><pre><code>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> interpolateLab <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"d3-interpolate\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> tweened <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"svelte/motion\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> width <span class=\"token operator\">=</span> <span class=\"token number\">150</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> height <span class=\"token operator\">=</span> <span class=\"token number\">150</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> status <span class=\"token operator\">=</span> <span class=\"token string\">\"green\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> colorRed <span class=\"token operator\">=</span> <span class=\"token function\">tweened</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(128,128,128)\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    duration<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n    interpolate<span class=\"token operator\">:</span> interpolateLab\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> colorYellow <span class=\"token operator\">=</span> <span class=\"token function\">tweened</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(128,128,128)\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    duration<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n    interpolate<span class=\"token operator\">:</span> interpolateLab\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> colorGreen <span class=\"token operator\">=</span> <span class=\"token function\">tweened</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(128,128,128)\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    duration<span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n    interpolate<span class=\"token operator\">:</span> interpolateLab\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  $<span class=\"token operator\">:</span> <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">\"green\"</span><span class=\"token operator\">:</span>\n      colorYellow<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(128,128,128)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      colorGreen<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(0, 255, 0)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      colorRed<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(128,128,128)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">\"yellow\"</span><span class=\"token operator\">:</span>\n      colorYellow<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(255, 255, 0)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      colorGreen<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(128,128,128)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      colorRed<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(128,128,128)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">\"red\"</span><span class=\"token operator\">:</span>\n      colorYellow<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(128,128,128)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      colorGreen<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(128,128,128)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      colorRed<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(255, 0, 0)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">{width}</span> <span class=\"token attr-name\">{height}</span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 120 320<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>rect</span> <span class=\"token attr-name\">x</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span>  <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>300<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">rx</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ry</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>black<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>circle</span> <span class=\"token attr-name\">r</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>40<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{$colorRed}</span> <span class=\"token attr-name\">cx</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>60<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">cy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>60<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>circle</span> <span class=\"token attr-name\">r</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>40<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{$colorYellow}</span> <span class=\"token attr-name\">cx</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>60<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">cy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>160<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>circle</span> <span class=\"token attr-name\">r</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>40<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{$colorGreen}</span> <span class=\"token attr-name\">cx</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>60<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">cy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>260<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span>\n</code></pre></p>\n<ul>\n<li>First, define the <code>tweened</code> motion for each light. We set the initial value to grey. The interpolation is taken from the d3js library, because it&#39;s a nice way to interpolate colors. Any function that does this would work.</li>\n<li>Then, a reactive function is set. Depending on the status, the colors are set as needed. The motion will do its magic, and the colors will change with a short (200ms) animation.</li>\n</ul>\n<p>Well, but what about controlling the lights? Now that we can draw the lights, we can create a simple function with the states:</p>\n<p><pre><code>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token keyword\">import</span> TrafficLight <span class=\"token keyword\">from</span> <span class=\"token string\">\"./TrafficLight.svelte\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">import</span> TrafficLightAnimated <span class=\"token keyword\">from</span> <span class=\"token string\">\"./TrafficLightAnimated.svelte\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> status <span class=\"token operator\">=</span> <span class=\"token string\">\"green\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">handleClick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">case</span> <span class=\"token string\">\"green\"</span><span class=\"token operator\">:</span>\n          status <span class=\"token operator\">=</span> <span class=\"token string\">\"yellow\"</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">case</span> <span class=\"token string\">\"yellow\"</span><span class=\"token operator\">:</span>\n          status <span class=\"token operator\">=</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">case</span> <span class=\"token string\">\"red\"</span><span class=\"token operator\">:</span>\n          status <span class=\"token operator\">=</span> <span class=\"token string\">\"green\"</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n          <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Bad status: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>status<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\"><span class=\"token namespace\">on:</span>click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{handleClick}</span><span class=\"token punctuation\">></span></span>\n        Change\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>TrafficLight</span> <span class=\"token attr-name\">status</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{status}/</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>TrafficLightAnimated</span> <span class=\"token attr-name\">status</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{status}/</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n\n<p>Of course, XState could be used as well, we&#39;ll se it later.</p>\n<p>The result is this one:</p>\n<iframe\n     src=\"https://codesandbox.io/embed/traffic-lights-the-lights-ohnru?fontsize=14&hidenavigation=1&theme=dark\"\n     style=\"width:100%; height:300px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"traffic-lights-the-lights\"\n     allow=\"\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   ></iframe>\n\n<p>The pedestrian lights are similar. The basic difference is that the <em>yellow state</em> is the binking green state:</p>\n<p><pre><code>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n   <span class=\"token keyword\">import</span> AmpelmannGrun <span class=\"token keyword\">from</span> <span class=\"token string\">\"./AmpelmannGrun.svelte\"</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">import</span> AmpelmannRot <span class=\"token keyword\">from</span> <span class=\"token string\">\"./AmpelmannRot.svelte\"</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> width <span class=\"token operator\">=</span> <span class=\"token number\">150</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> height <span class=\"token operator\">=</span> <span class=\"token number\">150</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> status <span class=\"token operator\">=</span> <span class=\"token string\">\"green\"</span><span class=\"token punctuation\">;</span>\n\n   $<span class=\"token operator\">:</span> greenStatus <span class=\"token operator\">=</span>\n     status <span class=\"token operator\">===</span> <span class=\"token string\">\"green\"</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"on\"</span> <span class=\"token operator\">:</span> status <span class=\"token operator\">===</span> <span class=\"token string\">\"yellow\"</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"blink\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"off\"</span><span class=\"token punctuation\">;</span>\n   $<span class=\"token operator\">:</span> redStatus <span class=\"token operator\">=</span> status <span class=\"token operator\">===</span> <span class=\"token string\">\"red\"</span> <span class=\"token operator\">?</span> <span class=\"token string\">\"on\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"off\"</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>svg</span> <span class=\"token attr-name\">{width}</span> <span class=\"token attr-name\">{height}</span> <span class=\"token attr-name\">viewBox</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0 0 120 220<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>rect</span> <span class=\"token attr-name\">x</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">y</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span>  <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>200<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">rx</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ry</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke-width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>10<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">stroke</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>black<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>circle</span> <span class=\"token attr-name\">r</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>40<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#555555<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">cx</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>60<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">cy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>60<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>g</span> <span class=\"token attr-name\">transform</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>translate(23, 25)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>AmpelmannRot</span> <span class=\"token attr-name\">status</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{redStatus}</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>70<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>70<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>g</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>circle</span> <span class=\"token attr-name\">r</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>40<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">fill</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#555555<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">cx</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>60<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">cy</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>160<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>g</span> <span class=\"token attr-name\">transform</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>translate(28, 125)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>AmpelmannGrun</span> <span class=\"token attr-name\">status</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{greenStatus}</span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>70<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>70<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>g</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>svg</span><span class=\"token punctuation\">></span></span>\n</code></pre></p>\n<ul>\n<li>Since the SVG is more complicated (source: Wikipedia), the two <em>Ampelmann</em> are included from separete files</li>\n<li>The green light has three states now: <code>on</code>, <code>off</code> and <code>blink</code>. The blink effect is done with svg animations. Check <a href=\"https://codesandbox.io/s/traffic-lights-pedestrian-1ky4d?file=/App.svelte\">the original file on the project</a></li>\n</ul>\n<p>The part of the svg to animate is on line 199:</p>\n<p><pre><code>\n{#if status===\"blink\"}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>animate</span> <span class=\"token attr-name\">attributeName</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stop-color<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">values</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{color1}; {colorGrey1}; {color1}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dur</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">repeatCount</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>indefinite<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>animate</span><span class=\"token punctuation\">></span></span>\n{/if}\n</code></pre></p>\n <iframe\n     src=\"https://codesandbox.io/embed/traffic-lights-pedestrian-1ky4d?autoresize=1&fontsize=14&hidenavigation=1&theme=dark\"\n     style=\"width:100%; height:300px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"traffic-lights-pedestrian\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   ></iframe>\n\n<p>Finally, we can <a href=\"https://codesandbox.io/s/traffic-lights-state-nodes-9w9n6?file=/App.svelte\">see how xstate can help to coordinate both lights</a>. Let&#39;s look at the <em>machine</em>. I&#39;ve added a <em>message</em> property to each state to understand what are they. There are more than what can seem at first sight:</p>\n<p><pre><code>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Machine <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"xstate\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> trafficLightsMachine <span class=\"token operator\">=</span> <span class=\"token function\">Machine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\nid<span class=\"token operator\">:</span> <span class=\"token string\">\"trafficLights\"</span><span class=\"token punctuation\">,</span>\ninitial<span class=\"token operator\">:</span> <span class=\"token string\">\"gtrp\"</span><span class=\"token punctuation\">,</span>\nstates<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\ngtrp<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\non<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">NEXT</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ytrp\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nmeta<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\nmessage<span class=\"token operator\">:</span> <span class=\"token string\">\"Green for traffic, red for pedestrians\"</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nytrp<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\non<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">NEXT</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rtrp\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nmeta<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\nmessage<span class=\"token operator\">:</span> <span class=\"token string\">\"Yellow for traffic, red for pedestrians\"</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nrtrp<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\non<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">NEXT</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rtgp\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nmeta<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\nmessage<span class=\"token operator\">:</span> <span class=\"token string\">\"Red for traffic, red for pedestrians\"</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nrtgp<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\non<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">NEXT</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rtyp\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nmeta<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\nmessage<span class=\"token operator\">:</span> <span class=\"token string\">\"Red for traffic, green for pedestrians\"</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nrtyp<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\non<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">NEXT</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rtrp2\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nmeta<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\nmessage<span class=\"token operator\">:</span> <span class=\"token string\">\"Red for traffic, blinking for pedestrians\"</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nrtrp2<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\non<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">NEXT</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gtrp\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nmeta<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\nmessage<span class=\"token operator\">:</span> <span class=\"token string\">\"Red for traffic, red for pedestrians\"</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></p>\n<p>Now, let&#39;s see how do we control the lights:</p>\n<p><pre><code>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n        <span class=\"token keyword\">import</span> TrafficLight <span class=\"token keyword\">from</span> <span class=\"token string\">\"./TrafficLight.svelte\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">import</span> PedestrianLights <span class=\"token keyword\">from</span> <span class=\"token string\">\"./PedestrianLights.svelte\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useMachine <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./useMachine\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> trafficLightsMachine <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./trafficLightsMachine\"</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> state<span class=\"token punctuation\">,</span> send <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useMachine</span><span class=\"token punctuation\">(</span>trafficLightsMachine<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">function</span> <span class=\"token function\">handleClick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"NEXT\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        $<span class=\"token operator\">:</span> trafficState <span class=\"token operator\">=</span>\n          $state<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gt\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span>\n            <span class=\"token operator\">?</span> <span class=\"token string\">\"green\"</span>\n            <span class=\"token operator\">:</span> $state<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yt\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span>\n            <span class=\"token operator\">?</span> <span class=\"token string\">\"yellow\"</span>\n            <span class=\"token operator\">:</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">;</span>\n\n        $<span class=\"token operator\">:</span> pedestrianState <span class=\"token operator\">=</span>\n          $state<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gp\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span>\n            <span class=\"token operator\">?</span> <span class=\"token string\">\"green\"</span>\n            <span class=\"token operator\">:</span> $state<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yp\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token number\">0</span>\n            <span class=\"token operator\">?</span> <span class=\"token string\">\"yellow\"</span>\n            <span class=\"token operator\">:</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pre</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>code</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>TrafficLight</span> <span class=\"token attr-name\">status</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{trafficState}/</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>PedestrianLights</span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{100}</span> <span class=\"token attr-name\">status</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{pedestrianState}/</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>{#each Object.keys($state.meta) as thing}\n        {$state.meta[thing].message}\n    {/each}\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\"><span class=\"token namespace\">on:</span>click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{handleClick}</span><span class=\"token punctuation\">></span></span>\n        Change\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>code</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pre</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n\n\n</code></pre></p>\n<ul>\n<li>We just have to mainain two reactive statements that read the state. Depending on its value, they set the status for the two different actual traffic lights we have.</li>\n<li>Then, the lights are added as in the previous examples</li>\n</ul>\n<p>As you can see, it&#39;s really easy to control when the states are well defined</p>\n<iframe\n     src=\"https://codesandbox.io/embed/traffic-lights-state-nodes-9w9n6?fontsize=14&hidenavigation=1&theme=dark\"\n     style=\"width:100%; height:300px; border:0; border-radius: 4px; overflow:hidden;\"\n     title=\"traffic-lights-state-nodes\"\n     allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n     sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n   ></iframe>\n\n<h1 id=\"links\">Links</h1>\n<ul>\n<li><a href=\"https://xstate.js.org/\">XState website</a></li>\n<li><a href=\"/svelte/2020/04/08/gpujs-example.html\">XState and Svelte I: initial setup</a></li>\n<li><a href=\"https://codesandbox.io/s/traffic-lights-the-lights-ohnru\">First example on CodeSandbox</a></li>\n<li><a href=\"https://codesandbox.io/s/traffic-lights-pedestrian-1ky4d?file=/App.svelte\">Second example on CodeSandbox</a></li>\n<li><a href=\"https://codesandbox.io/s/traffic-lights-state-nodes-9w9n6?file=/App.svelte\">Third example on CodeSandbox</a></li>\n<li><a href=\"https://svelte.dev/tutorial/tweened\">svelte tweened motion</a></li>\n</ul>\n","tags":["xstate"],"date":"2020-05-23T00:00:00.000Z"}