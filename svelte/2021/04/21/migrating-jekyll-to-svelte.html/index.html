<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-BD6G9PF6NH"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag('js', new Date());

			gtag('config', 'G-BD6G9PF6NH');
		</script>

		<meta charset="utf-8" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="manifest" href="/manifest.json" />
		<meta name="theme-color" content="#cdffcd" />
		<!-- HTML Meta Tags -->
		<meta
			name="description"
			content="I am a software developer and meteorologist who likes mapping. I put here the things I learn on my free time."
		/>
		<!-- Google / Search Engine Tags -->
		<meta itemprop="name" content=">GeoExamples - Roger Veciana" />
		<meta
			itemprop="description"
			content="I am a software developer and meteorologist who likes mapping. I put here the things I learn on my free time."
		/>
		<meta itemprop="image" content="https://geoexamples.com/siteImage.png" />

		<title>GeoExamples - Migrating a Jekyll blog to Svelte-kit</title><meta name="twitter:card" content="summary" data-svelte="svelte-w2s84v"><meta name="twitter:title" content="GeoExamples - Migrating a Jekyll blog to Svelte-kit" data-svelte="svelte-w2s84v"><meta name="twitter:description" content="&lt;p&gt;Five years ago I " data-svelte="svelte-w2s84v"><meta name="twitter:image" content="https://geoexamples.com/siteImage.png" data-svelte="svelte-w2s84v"><meta property="og:url" content="https://geoexamples.com" data-svelte="svelte-w2s84v"><meta property="og:type" content="website" data-svelte="svelte-w2s84v"><meta property="og:title" content="GeoExamples - Migrating a Jekyll blog to Svelte-kit" data-svelte="svelte-w2s84v"><meta property="og:description" content="I am a software developer and meteorologist who likes mapping. I put here the things I learn on my free time." data-svelte="svelte-w2s84v"><meta property="og:image" content="https://geoexamples.com/siteImage.png" data-svelte="svelte-w2s84v">

		

		<link rel="modulepreload" href="/_app/start-9934143f.js">
		<link rel="modulepreload" href="/_app/chunks/vendor-f4f84e30.js">
		<link rel="modulepreload" href="/_app/pages/__layout.svelte-b5745e7e.js">
		<link rel="modulepreload" href="/_app/chunks/config-b3bde751.js">
		<link rel="modulepreload" href="/_app/pages/[category]/[year]/[month]/[date]/[slug].svelte-dcec41b3.js">
		<link rel="stylesheet" href="/_app/assets/start-a8cd1609.css">
		<link rel="stylesheet" href="/_app/assets/pages/__layout.svelte-294fb61c.css">

		<script type="module">
			import { start } from "/_app/start-9934143f.js";
			start({
				target: document.querySelector("#svelte"),
				paths: {"base":"","assets":""},
				session: {},
				host: location.host,
				route: true,
				spa: false,
				trailing_slash: "never",
				hydrate: {
					status: 200,
					error: null,
					nodes: [
						import("/_app/pages/__layout.svelte-b5745e7e.js"),
						import("/_app/pages/[category]/[year]/[month]/[date]/[slug].svelte-dcec41b3.js")
					],
					page: {
						host: location.host, // TODO this is redundant
						path: "/svelte/2021/04/21/migrating-jekyll-to-svelte.html",
						query: new URLSearchParams(""),
						params: {"category":"svelte","year":"2021","month":"04","date":"21","slug":"migrating-jekyll-to-svelte.html"}
					}
				}
			});
		</script>
	</head>
	<body>
		<div id="svelte">


<header class="site-header"><div class="wrapper"><a class="site-title" href="/">GeoExamples - Roger Veciana</a>

<nav class="site-nav"><div href="#" class="menu-icon"><svg viewBox="0 0 18 15"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></div>

	<div class="trigger"><a class="page-link" href="/about">About</a><a class="page-link" href="/blog">Blog</a><a class="page-link" href="/projects">Projects</a></div></nav></div></header>

<main class="page-content"><div class="wrapper">
<div class="post"><header class="post-header"><h1 class="post-title">Migrating a Jekyll blog to Svelte-kit</h1>
<p class="post-meta">Apr 21, 2021</p></header>

	<article class="post-content"><!-- HTML_TAG_START --><p>Five years ago I changed my <a href="http://geoexamples.blogspot.com/">old blogger blog</a> to Jekyll. Now I&#39;ve changed to Svelte, and here you have the steps and issues I found. You can find <a href="https://github.com/rveciana/geoexamples-blog">the blog code repo here</a>.</p>
<h3 id="toc">TOC</h3>
<ul>
<li><a href="#why">Why?</a></li>
<li><a href="#technologies-used">Technologies used</a></li>
<li><a href="#starting-the-project">Starting the project</a></li>
<li><a href="#packagejson">package.json</a></li>
<li><a href="#markdown-config-json">markdown-config-json</a></li>
<li><a href="#svelte-config">Svelte config</a></li>
<li><a href="#apphtml-and-layoutsvelte">app.html and $layout.svelte</a></li>
<li><a href="#endpoints">Endpoints</a></li>
<li><a href="#getting-the-data">Getting the data</a></li>
<li><a href="#components">Components</a></li>
<li><a href="#routes">Routes</a></li>
<li><a href="#deploying">Deploying</a></li>
<li><a href="#links">Links</a></li>
</ul>
<h2 id="why">Why?</h2>
<p>There are many reasons to change an old Jekyll blog (but mine is, honestly, that I wanted to learn Svelte-Kit!).</p>
<ul>
<li>Jekyll is getting old, so the possibilities with more modern JavaScript tools is poor</li>
<li>It&#39;s really slow when processing changes</li>
<li>It&#39;s made in Ruby, which is fine, but not a language I know, so modifying it becomes hard for me</li>
</ul>
<p>You have more reasons and explanations in <a href="https://ghostinspector.com/blog/rebuilding-jekyll-website-next-js-theme-ui/">this post</a>.</p>
<p>I could use some of the react based solutions, but I like Svelte and I couldn&#39;t find docs for doing it, so I chose ir. Also, svelte-kit seems a really nice solution, although is still very new.</p>
<h2 id="technologies-used">Technologies used</h2>
<ul>
<li><a href="https://kit.svelte.dev/docs">svelte-kit</a>: All the site functionality is done in svelte, and svelte-kit converts all the routes to static html pages that can be uploaded anywhere</li>
<li><a href="https://github.com/klaytonfaria/markdown-json#readme">markdown-json</a>: I&#39;ll keep all the entries written in markdown, so they have to be converted to html somehow. This library does it really well, although some files that Jekyll accepted are not correct for markdown-json</li>
<li><a href="https://github.com/PrismJS/prism#readme">prismjs</a>: The previous library doesn&#39;t transform the code into highlighted html. Prismjs is the library I used to do it. Configuring it it&#39;s not that easy because it doesn&#39;t include python highlighting by default</li>
<li><a href="https://handlebarsjs.com/">handlebars</a> to replace the Jekyll placeholders with values</li>
<li><a href="https://sass-lang.com/">Sass</a>: Svelte itself can use SaSS, which is very convenient since I was already using it in Jekyll, so I didn&#39;t change the styles at all</li>
<li><a href="https://pages.github.com/">GitHub pages</a>: There are better options now, but I didn&#39;t want to change the domain configuration, so the site is stored directly on GitHub. The generated html has to be in the master branch, while Jekyll was deployed directly by GitHub. It&#39;s a point against using this solution.</li>
</ul>
<h2 id="starting-the-project">Starting the project</h2>
<p>Starting the project is as easy as:</p>
<p>npm init svelte@next my-blog</p>
<ul>
<li>We&#39;ll need to create a folder for the blog posts and Jekyll pages pages (I called it content)</li>
<li>On src/static, I copied the <em>images</em> folder I already had on Jekyll, the favicon, the manifest file and the CNAME file that enables my domain on GitHub pages</li>
</ul>
<p>And that&#39;s it. Now, all the code has to be written so the blog renders the markdown entries</p>
<h2 id="packagejson">package.json</h2>
<p><pre><code>
<span class="token string">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="token string">"dev"</span><span class="token operator">:</span> <span class="token string">"svelte-kit dev"</span><span class="token punctuation">,</span>
<span class="token string">"build"</span><span class="token operator">:</span> <span class="token string">"npm run contentGen &amp;amp;&amp;amp; svelte-kit build"</span><span class="token punctuation">,</span>
<span class="token string">"start"</span><span class="token operator">:</span> <span class="token string">"svelte-kit start"</span><span class="token punctuation">,</span>
<span class="token string">"lint"</span><span class="token operator">:</span> <span class="token string">"prettier --check . &amp;amp;&amp;amp; eslint --ignore-path .gitignore ."</span><span class="token punctuation">,</span>
<span class="token string">"format"</span><span class="token operator">:</span> <span class="token string">"prettier --write ."</span><span class="token punctuation">,</span>
<span class="token string">"contentGen"</span><span class="token operator">:</span> <span class="token string">"markdown-json -c markdown-config.json"</span><span class="token punctuation">,</span>
<span class="token string">"watch-md"</span><span class="token operator">:</span> <span class="token string">"nodemon -e md -x "</span>npm run contentGen<span class="token string">""</span><span class="token punctuation">,</span>
<span class="token string">"dev-md"</span><span class="token operator">:</span> <span class="token string">"concurrently "</span>npm run dev<span class="token string">" "</span>npm run watch<span class="token operator">-</span>md<span class="token string">""</span>
<span class="token punctuation">}</span>
</code></pre></p>
<ul>
<li><em>npm run dev will</em> start the main svelte server, and reload the content when the Svelte files change. The result can be seen on <em>localhost:3000</em> by default</li>
<li><em>npm run contentGen</em> will process the markdown files</li>
<li><em>npm run watch-md</em> will rerun the previous script every time that a markdown file changes</li>
<li><em>npm run dev-md</em> will run both the Svelte server ans the markdown generator. Stopping it doesn&#39;t work very well (tha console has to be closed to free the port), it&#39;s a point to improve</li>
</ul>
<h2 id="markdown-config-json">markdown-config-json</h2>
<p>This is where the markdown files are rendered into a JSON object with the html to show on the site. The important part is setting the <em>src</em> directory where the markdown lives and a <em>dist</em> pat where we will get all the data from</p>
<p><pre><code>
  <span class="token punctuation">{</span>
    <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"markdown-json"</span><span class="token punctuation">,</span>
    <span class="token string">"cwd"</span><span class="token operator">:</span> <span class="token string">"./"</span><span class="token punctuation">,</span>
    <span class="token string">"src"</span><span class="token operator">:</span> <span class="token string">"content/"</span><span class="token punctuation">,</span>
    <span class="token string">"filePattern"</span><span class="token operator">:</span> <span class="token string">"&lt;em>*/&lt;/em>.m*"</span><span class="token punctuation">,</span>
    <span class="token string">"ignore"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token string">"dist"</span><span class="token operator">:</span> <span class="token string">"src/lib/data.json"</span><span class="token punctuation">,</span>
    <span class="token string">"metadata"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">"server"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></p>
<p>The result, for each entry, is something like this:</p>
<p><pre><code>
<span class="token punctuation">{</span>
      <span class="token string">"id"</span><span class="token operator">:</span> <span class="token string">"An id that also matches the markdown path"</span><span class="token punctuation">,</span>
      <span class="token string">"contents"</span><span class="token operator">:</span> <span class="token string">"The rendered HTML"</span><span class="token punctuation">,</span>
      <span class="token string">"excerpt"</span><span class="token operator">:</span> <span class="token string">"The first part of the rendered HTML so it can be shown"</span><span class="token punctuation">,</span>
      <span class="token string">"layout"</span><span class="token operator">:</span> <span class="token string">"post"</span><span class="token punctuation">,</span>
      <span class="token string">"title"</span><span class="token operator">:</span> <span class="token string">"Post or page title"</span><span class="token punctuation">,</span>
      <span class="token string">"date"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      <span class="token string">"categories"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      <span class="token string">"tags"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">"teaser"</span><span class="token operator">:</span> <span class="token string">"d3-composite-projections.png"</span><span class="token punctuation">,</span>
      <span class="token string">"meta"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">"relativePath"</span><span class="token operator">:</span> <span class="token string">"posts\d3\2015-05-12-d3-composite-projections.html"</span><span class="token punctuation">,</span>
        <span class="token string">"createdAt"</span><span class="token operator">:</span> <span class="token string">"2021-04-11T18:28:06.923Z"</span><span class="token punctuation">,</span>
        <span class="token string">"lastModified"</span><span class="token operator">:</span> <span class="token string">"2021-04-11T18:28:06.923Z"</span><span class="token punctuation">,</span>
        <span class="token string">"size"</span><span class="token operator">:</span> <span class="token number">2668</span><span class="token punctuation">,</span>
        <span class="token string">"formattedSize"</span><span class="token operator">:</span> <span class="token string">"2.6 KB"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></p>
<p>The first three fields and the metadata will always appear, while the other fields will match the <a href="https://jekyllrb.com/docs/front-matter/">front matter section</a> of your Jekyll file:</p>
---
property: value
tags: [first, second, third]
-npm--<p>Those properties are necessary to classify and sort the posts and pages.</p>
<h2 id="svelte-config">Svelte config</h2>
<p>The svelte config I used is the following, prepared to generate the static site:</p>
<p><pre><code>
<span class="token keyword">const</span> sveltePreprocess <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"svelte-preprocess"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nodeStatic <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"@sveltejs/adapter-static"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pkg <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./package.json"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    preprocess<span class="token operator">:</span> <span class="token function">sveltePreprocess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    kit<span class="token operator">:</span> <span class="token punctuation">{</span>
        adapter<span class="token operator">:</span> <span class="token function">nodeStatic</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pages<span class="token operator">:</span> <span class="token string">"../build"</span><span class="token punctuation">,</span> assets<span class="token operator">:</span> <span class="token string">"../build"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        appDir<span class="token operator">:</span> <span class="token string">"staticApp"</span><span class="token punctuation">,</span>
        target<span class="token operator">:</span> <span class="token string">"#svelte"</span><span class="token punctuation">,</span>
        vite<span class="token operator">:</span> <span class="token punctuation">{</span>
            ssr<span class="token operator">:</span> <span class="token punctuation">{</span>
                noExternal<span class="token operator">:</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>pkg<span class="token punctuation">.</span>dependencies <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></p>
<ul>
<li>appDir generates a static site</li>
<li>adapter needs to set the build directory as specified. I needed using different repos for the build and the svelte app, so that&#39;s the way you can get a build in another directory</li>
</ul>
<h2 id="apphtml-and-layoutsvelte">app.html and $layout.svelte</h2>
<ul>
<li><p>All svelte-kit projects have the app.html which is the place to import libraries (I didn&#39;t, better do it with an import inside the svelte files), add meta tags and so on. The meta tags can be added later, but the fixed ones can go here.</p>
</li>
<li><p>$layout.svelte is the base to our page, its where the header and footer are added. Let&#39;s see it, as it&#39;s similar to the other svelte files:
<pre><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span> <span class="token attr-name">context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> type <span class="token punctuation">{</span> PageSummary <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'$lib/model'</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> fetch <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> resultPages <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/summary_pages.json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> pages <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">await</span> resultPages<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> PageSummary<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
          props<span class="token operator">:</span> <span class="token punctuation">{</span> pages <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token string">'../app.scss'</span><span class="token punctuation">;</span>

  <span class="token keyword">import</span> Footer <span class="token keyword">from</span> <span class="token string">'$lib/components/Footer.svelte'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> Header <span class="token keyword">from</span> <span class="token string">'$lib/components/Header.svelte'</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">let</span> pages<span class="token operator">:</span> PageSummary<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Header</span> <span class="token attr-name">{pages}</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Footer</span> <span class="token punctuation">/></span></span>
</code></pre>
</li>
<li><p>We have to define all the scripts as typescript or we&#39;ll get errors</p>
</li>
<li><p>Note that there are two scripts:</p>
<ul>
<li>When adding <em>context=&quot;module&quot;</em>, will run before the component is rendered. In our case, we&#39;ll use it to call the async functions that call the endpoints.</li>
<li>The other script imports the components and exports the variables that we want to use in the template part (the links to the pages in our case)</li>
</ul>
</li>
<li><p>The <em>slot</em> tag is where the actual pages will put their content</p>
</li>
</ul>
<h2 id="endpoints">Endpoints</h2>
<p>You can create as many endpoints as you want by adding *ts files to the routes. These files return json objects. It&#39;s a good practice to add the json to the name so they are called as json files in the path.</p>
<p><em>data.json.ts</em> could be like:</p>
<p><pre><code>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> body<span class="token operator">:</span> <span class="token punctuation">{</span>value<span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">}</span><span class="token punctuation">,</span> status<span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></p>
<p>The get function sets the get HTTP method, and returns the body of the response and the status. Playing with this is possible to create a complete REST API easily</p>
<h2 id="getting-the-data">Getting the data</h2>
<p>A real endpoint using the data created with <em>markdown-json</em> is using this function to do it (<em>get_contents.ts</em>):</p>
<p><pre><code>
<span class="token keyword">import</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'$lib/data.json'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> type <span class="token punctuation">{</span> PostSummary <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./model'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> getContents <span class="token operator">=</span> <span class="token punctuation">(</span>num_posts<span class="token operator">:</span> string <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token operator">:</span> PostSummary<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=></span>
    Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> value<span class="token punctuation">.</span>layout <span class="token operator">===</span> <span class="token string">"post"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> num_posts <span class="token operator">?</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>num_posts<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> postDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>post<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> htmlPath <span class="token operator">=</span> post<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>relativePath
                <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token operator">/</span>\<span class="token operator">/</span>g<span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                title<span class="token operator">:</span> post<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
                date<span class="token operator">:</span> post<span class="token punctuation">.</span>date<span class="token punctuation">,</span>
                tags<span class="token operator">:</span> post<span class="token punctuation">.</span>tags<span class="token punctuation">,</span>
                categories<span class="token operator">:</span> post<span class="token punctuation">.</span>categories<span class="token punctuation">,</span>
                teaser<span class="token operator">:</span> post<span class="token punctuation">.</span>teaser<span class="token punctuation">,</span>
                slug<span class="token operator">:</span> <span class="token operator">&lt;</span>code<span class="token operator">></span><span class="token operator">/</span>$<span class="token punctuation">{</span>post<span class="token punctuation">.</span>categories<span class="token punctuation">}</span><span class="token operator">/</span>$<span class="token punctuation">{</span>postDate<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span>$<span class="token punctuation">{</span>postDate<span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span>
                    <span class="token string">"en-US"</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        month<span class="token operator">:</span> <span class="token string">"2-digit"</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span>$<span class="token punctuation">{</span>postDate<span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token string">"en-US"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> day<span class="token operator">:</span> <span class="token string">"2-digit"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span>$<span class="token punctuation">{</span>htmlPath<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>code<span class="token operator">></span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></p>
<p>This is the function that converts the <em>data.json</em> file into the object we need. </p>
<ul>
<li>First, the data is filtered so we take only posts and not pages, sorted and ony the first <em>num_posts</em> are returned</li>
<li>The rest of the function just converts the paths and other Jekyll information into the one we need to show the list of posts</li>
</ul>
<h2 id="components">Components</h2>
<p>Using svelte-kit, the routes can have most of the component, so as separate components I used only one for the header, another for the footer (copied more or less directly from Jekyll) and one for the main page, that renders the image, title and tag for each blog post.</p>
<h2 id="routes">Routes</h2>
<p>Routing is one of the nice svelte-kit features. The only problem I found is that using a static build, query strings don&#39;t work, so all the requests must be only with the path.</p>
<p>There are some routes that don&#39;t have variable, like <em>blog.svelte</em></p>
<p><pre><code><span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">"ts"</span> context<span class="token operator">=</span><span class="token string">"module"</span><span class="token operator">></span>
    <span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> fetch <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> resultPosts <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'blog.json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">await</span> resultPosts<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> PostSummary<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> resultTagsAndCategories <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'tags-and-categories.json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> tagsAndCategories <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">await</span> resultTagsAndCategories<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> TagsAndCategories<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            props<span class="token operator">:</span> <span class="token punctuation">{</span> posts<span class="token punctuation">,</span> tagsAndCategories <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">"ts"</span><span class="token operator">></span>
    <span class="token keyword">import</span> PostCard <span class="token keyword">from</span> <span class="token string">'$lib/components/PostCard.svelte'</span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> type <span class="token punctuation">{</span> PostSummary<span class="token punctuation">,</span> TagsAndCategories <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'$lib/model'</span><span class="token punctuation">;</span>
    <span class="token keyword">export</span> <span class="token keyword">let</span> posts<span class="token operator">:</span> PostSummary<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">export</span> <span class="token keyword">let</span> tagsAndCategories<span class="token operator">:</span> TagsAndCategories <span class="token operator">=</span> <span class="token punctuation">{</span> tags<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> categories<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>h1<span class="token operator">></span>Categories<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
<span class="token punctuation">{</span>#each tagsAndCategories<span class="token punctuation">.</span>categories <span class="token keyword">as</span> category<span class="token punctuation">,</span> i<span class="token punctuation">}</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"/categories/{category}"</span><span class="token operator">></span><span class="token punctuation">{</span>category<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>
    <span class="token punctuation">{</span>#<span class="token keyword">if</span> i <span class="token operator">&lt;</span> tagsAndCategories<span class="token punctuation">.</span>categories<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">' '</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token operator">/</span>each<span class="token punctuation">}</span>
<span class="token operator">&lt;</span>h1<span class="token operator">></span>Tags<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"tagcloud"</span><span class="token operator">></span>
    <span class="token punctuation">{</span>#each tagsAndCategories<span class="token punctuation">.</span>tags <span class="token keyword">as</span> tag<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>a
            href<span class="token operator">=</span><span class="token string">"/tags/{tag.label}"</span>
            style<span class="token operator">=</span>"font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
                <span class="token number">70</span> <span class="token operator">+</span>
                <span class="token number">100</span> <span class="token operator">*</span>
                    <span class="token punctuation">(</span><span class="token punctuation">(</span>tag<span class="token punctuation">.</span>occurrences <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>tagsAndCategories<span class="token punctuation">.</span>tags<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span> <span class="token operator">=></span> d<span class="token punctuation">.</span>occurrences<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">%</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span>"<span class="token operator">></span><span class="token punctuation">{</span>tag<span class="token punctuation">.</span>label<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>a
        <span class="token operator">></span><span class="token punctuation">{</span><span class="token string">' '</span><span class="token punctuation">}</span>
    <span class="token punctuation">{</span><span class="token operator">/</span>each<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span>article <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"post-content"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>h1<span class="token operator">></span>Posts<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
    <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"post-list"</span><span class="token operator">></span>
        <span class="token punctuation">{</span>#each posts <span class="token keyword">as</span> post<span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>li<span class="token operator">></span>
                <span class="token operator">&lt;</span>PostCard <span class="token punctuation">{</span>post<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>
        <span class="token punctuation">{</span><span class="token operator">/</span>each<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>article<span class="token operator">></span>
<span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"rss-subscribe"</span><span class="token operator">></span>subscribe <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"http://feeds.feedburner.com/Geoexamples"</span><span class="token operator">></span>via <span class="token constant">RSS</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>
</code></pre>

<p>Only 50 lines to show all entries and a tag cloud! Again, a <em>module</em> context script is run before the component is mounted and provides the data.</p>
<p>The tags cloud could be in another component, but this was a migration and there were many things to change.</p>
<p>Each blog entry takes from Jekyll a category and a date in the form:</p>
<p>  [category]/[year]/[month]/[date]/[slug]</p>
<p>The file, then, has to go into an identical path and can use the <em>page</em> variable in the <em>load</em> function:</p>
<p><pre><code>
<span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">"ts"</span> context<span class="token operator">=</span><span class="token string">"module"</span><span class="token operator">></span>
    <span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> page<span class="token punctuation">,</span> fetch <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> resultPosts <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token punctuation">.</span>params<span class="token punctuation">.</span>slug<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> post <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">await</span> resultPosts<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Post<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            props<span class="token operator">:</span> <span class="token punctuation">{</span> post <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>

</code></pre></p>
<p>Using it gives us the value of the path. When generating the static web, each possible call will be rendered and we&#39;ll have the json and the html file.</p>
<p>The endpoint will then have the same path but finished in <em>json.ts</em>. The important part is that the text stored in the data file has to be translated into the final html. This includes replacing the Jekyll placeholders and using <em>Prism</em> to translate the code:</p>
<p><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> configuration <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'$lib/config'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Handlebars <span class="token keyword">from</span> <span class="token string">'handlebars'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Prism <span class="token keyword">from</span> <span class="token string">'prismjs'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> md2html <span class="token operator">=</span> <span class="token punctuation">(</span>mdContent<span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">string</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> template <span class="token operator">=</span> Handlebars<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>mdContent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token function">template</span><span class="token punctuation">(</span>configuration<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> codeMatches <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token operator">/</span><span class="token punctuation">{</span><span class="token operator">%</span> highlight <span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span><span class="token operator">*</span> <span class="token operator">%</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">|</span>\n<span class="token punctuation">)</span><span class="token operator">*</span><span class="token operator">?</span></code></pre>/g);

const formattedCode = codeMatches?.map((d) =&gt; {
    const lang = d
        .match(/{% highlight [a-z]* %}/g)[0]
        .replace(/{% highlight /g, &#39;&#39;)
        .replace(/ %}/g, &#39;&#39;);
    const code = d
        .replace(/&lt;p&gt;/g, &#39;\n&#39;)
        .replace(/&lt;\/p&gt;/g, &#39;&#39;)
        .replace(/&amp;quot;/gi, `&quot;`)
        .replace(/&amp;lt;/gi, &#39;&lt;&#39;)
        .replace(/&amp;gt;/gi, &#39;&gt;&#39;)
        .replace(/{% highlight [a-z]* %}/g, &#39;&#39;)
        .replace(/{% endhighlight %}/g, &#39;&#39;);

    switch (lang) {
        case &#39;js&#39;:
            return `&lt;pre&gt;&lt;code&gt;${Prism.highlight(code, Prism.languages.javascript)}&lt;/code&gt;&lt;/pre&gt;`;
        case &#39;json&#39;:
            return `&lt;pre&gt;&lt;code&gt;${Prism.highlight(code, Prism.languages.javascript)}&lt;/code&gt;&lt;/pre&gt;`;
        case &#39;html&#39;:
            return `&lt;pre&gt;&lt;code&gt;${Prism.highlight(code, Prism.languages.html)}&lt;/code&gt;&lt;/pre&gt;`;
        case &#39;python&#39;:
            return `&lt;pre&gt;&lt;code&gt;${Prism.highlight(code, Prism.languages.js)}&lt;/code&gt;&lt;/pre&gt;`;
        default:
            return `&lt;pre&gt;&lt;code&gt;${Prism.highlight(code, Prism.languages.js)}&lt;/code&gt;&lt;/pre&gt;`;
    }
});

return codeMatches?.reduce((acc, curr, i) =&gt; acc.replace(curr, formattedCode[i]), text) ?? text;<p>};
{% endhighlight %}</p>
<ul>
<li>The placeholders from Jekyll are replaced using handlebars. For instance  would be changed to the name in the configuration.</li>
<li>Prism has to detect the language. The problem is that by default it doesn&#39;t include Python and I didn&#39;t find the way to do it in Svelte (instructions are for babel). Using the Javascript hightlighting for python doesn&#39;t give a bad result.</li>
<li>HTML entities give some problems, so I had to replace them. Maybe there&#39;s a better way...</li>
</ul>
<h2 id="deploying">Deploying</h2>
<p>To make things faster I didn&#39;t want to change my GitHub hosting with gh-pages. To upload a site there, a repo with the name <em>username.github.io</em> has to be created. With Jekyll is cool because you can upload your Jekyll code directly there and GitHub creates the static site directly. In this case, we have the html and this is what has to go there, while the site code can go either in another branch or another repo (my option).</p>
<p>To make the custom domain work, a file called <em>CNAME</em> with the domain as the content must be in the <em>static</em> folder.</p>
<h2 id="links">Links</h2>
<ul>
<li><a href="https://github.com/rveciana/geoexamples-blog">Blog code repo</a></li>
<li><a href="http://geoexamples.blogspot.com/">Blogspot blog</a></li>
<li><a href="https://ghostinspector.com/blog/rebuilding-jekyll-website-next-js-theme-ui/">Migrating from Jekyll to Nextjs</a></li>
<li><a href="https://kit.svelte.dev/docs">svelte-kit</a></li>
<li><a href="https://github.com/klaytonfaria/markdown-json#readme">markdown-json</a></li>
<li><a href="https://github.com/PrismJS/prism#readme">prismjs</a></li>
<li><a href="https://handlebarsjs.com/">handlebars</a></li>
<li><a href="https://sass-lang.com/">Sass</a></li>
<li><a href="https://pages.github.com/">GitHub pages</a></li>
<li><a href="https://jekyllrb.com/docs/front-matter/">Front Matter</a></li>
</ul>
<!-- HTML_TAG_END --></article></div></div></main>
<footer class="site-footer"><div class="wrapper"><div class="footer-col-wrapper"><div class="footer-col  footer-col-1"><ul class="contact-list"><li>GeoExamples - Roger Veciana</li></ul></div>

	<div class="footer-col  footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/rveciana"><span class="icon  icon--github"><svg viewBox="0 0 16 16"><path fill="#89b889" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"></path></svg></span>

						<span class="username">rveciana</span></a></li>

			<li><a href="https://twitter.com/rveciana"><span class="icon  icon--twitter"><svg viewBox="0 0 16 16"><path fill="#89b889" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                    c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"></path></svg></span>

						<span class="username">rveciana</span></a></li>
			<li><a href="https://www.linkedin.com/in/rogerveciana"><span class="icon  icon--twitter"><svg width="16" height="15.28958"><path d="M 0,1.77606 Q 0,1.00386 0.54054,0.50193 1.08108,0 1.94595,0 2.79537,0 3.32047,0.49421 3.86101,1.00386 3.86101,1.8224 q 0,0.74131 -0.5251,1.23552 -0.54054,0.50965 -1.42085,0.50965 l -0.0154,0 q -0.84942,0 -1.37452,-0.50965 Q 4e-5,2.54827 4e-5,1.77606 Z m 0.20078,13.51352 0,-10.3166 3.42857,0 0,10.3166 -3.42857,0 z m 5.32818,0 3.42857,0 0,-5.76062 q 0,-0.54054 0.12355,-0.83398 0.21622,-0.52509 0.65638,-0.88803 0.44015,-0.36293 1.10424,-0.36293 1.72973,0 1.72973,2.33205 l 0,5.51351 3.42857,0 0,-5.91506 Q 16,7.08881 14.91892,5.90734 13.83784,4.72587 12.06178,4.72587 q -1.99228,0 -3.10425,1.71429 l 0,0.0309 -0.0154,0 0.0154,-0.0309 0,-1.46718 -3.42857,0 q 0.0309,0.49421 0.0309,3.07336 0,2.57915 -0.0309,7.24324 z"></path></svg></span>

						<span class="username">rogerveciana</span></a></li></ul></div>

	<div class="footer-col  footer-col-3"><p class="text">I am a software developer and meteorologist who likes mapping. I put here the things I learn on my free time.</p>
		<p class="text">Roger Veciana i Rovira</p></div></div></div></footer>



	<script type="application/json" data-type="svelte-data" data-url="/summary_pages.json">{"status":200,"statusText":"","headers":{"content-type":"application/json; charset=utf-8"},"body":"[{\"title\":\"CV\",\"permalink\":\"\u002Fcv\",\"excerpt\":\"\u003Ch2 id=\\\"jobs\\\"\u003EJobs\u003C\u002Fh2\u003E\",\"avoidMainMenu\":true},{\"title\":\"About\",\"permalink\":\"\u002Fabout\",\"excerpt\":\"\u003Cp\u003E{{ site.author.name }}\u003C\u002Fp\u003E\"},{\"title\":\"Projects\",\"permalink\":\"\u002Fprojects\",\"excerpt\":\"\u003Cp\u003ESome of my personal projects:\u003C\u002Fp\u003E\"}]"}</script>

	<script type="application/json" data-type="svelte-data" data-url="migrating-jekyll-to-svelte.html.json">{"status":200,"statusText":"","headers":{"content-type":"application/json; charset=utf-8"},"body":"{\"title\":\"Migrating a Jekyll blog to Svelte-kit\",\"contents\":\"\u003Cp\u003EFive years ago I changed my \u003Ca href=\\\"http:\u002F\u002Fgeoexamples.blogspot.com\u002F\\\"\u003Eold blogger blog\u003C\u002Fa\u003E to Jekyll. Now I&#39;ve changed to Svelte, and here you have the steps and issues I found. You can find \u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Frveciana\u002Fgeoexamples-blog\\\"\u003Ethe blog code repo here\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003Ch3 id=\\\"toc\\\"\u003ETOC\u003C\u002Fh3\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#why\\\"\u003EWhy?\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#technologies-used\\\"\u003ETechnologies used\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#starting-the-project\\\"\u003EStarting the project\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#packagejson\\\"\u003Epackage.json\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#markdown-config-json\\\"\u003Emarkdown-config-json\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#svelte-config\\\"\u003ESvelte config\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#apphtml-and-layoutsvelte\\\"\u003Eapp.html and $layout.svelte\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#endpoints\\\"\u003EEndpoints\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#getting-the-data\\\"\u003EGetting the data\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#components\\\"\u003EComponents\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#routes\\\"\u003ERoutes\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#deploying\\\"\u003EDeploying\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"#links\\\"\u003ELinks\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003Ch2 id=\\\"why\\\"\u003EWhy?\u003C\u002Fh2\u003E\\n\u003Cp\u003EThere are many reasons to change an old Jekyll blog (but mine is, honestly, that I wanted to learn Svelte-Kit!).\u003C\u002Fp\u003E\\n\u003Cul\u003E\\n\u003Cli\u003EJekyll is getting old, so the possibilities with more modern JavaScript tools is poor\u003C\u002Fli\u003E\\n\u003Cli\u003EIt&#39;s really slow when processing changes\u003C\u002Fli\u003E\\n\u003Cli\u003EIt&#39;s made in Ruby, which is fine, but not a language I know, so modifying it becomes hard for me\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003Cp\u003EYou have more reasons and explanations in \u003Ca href=\\\"https:\u002F\u002Fghostinspector.com\u002Fblog\u002Frebuilding-jekyll-website-next-js-theme-ui\u002F\\\"\u003Ethis post\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003Cp\u003EI could use some of the react based solutions, but I like Svelte and I couldn&#39;t find docs for doing it, so I chose ir. Also, svelte-kit seems a really nice solution, although is still very new.\u003C\u002Fp\u003E\\n\u003Ch2 id=\\\"technologies-used\\\"\u003ETechnologies used\u003C\u002Fh2\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fkit.svelte.dev\u002Fdocs\\\"\u003Esvelte-kit\u003C\u002Fa\u003E: All the site functionality is done in svelte, and svelte-kit converts all the routes to static html pages that can be uploaded anywhere\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Fklaytonfaria\u002Fmarkdown-json#readme\\\"\u003Emarkdown-json\u003C\u002Fa\u003E: I&#39;ll keep all the entries written in markdown, so they have to be converted to html somehow. This library does it really well, although some files that Jekyll accepted are not correct for markdown-json\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002FPrismJS\u002Fprism#readme\\\"\u003Eprismjs\u003C\u002Fa\u003E: The previous library doesn&#39;t transform the code into highlighted html. Prismjs is the library I used to do it. Configuring it it&#39;s not that easy because it doesn&#39;t include python highlighting by default\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fhandlebarsjs.com\u002F\\\"\u003Ehandlebars\u003C\u002Fa\u003E to replace the Jekyll placeholders with values\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fsass-lang.com\u002F\\\"\u003ESass\u003C\u002Fa\u003E: Svelte itself can use SaSS, which is very convenient since I was already using it in Jekyll, so I didn&#39;t change the styles at all\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fpages.github.com\u002F\\\"\u003EGitHub pages\u003C\u002Fa\u003E: There are better options now, but I didn&#39;t want to change the domain configuration, so the site is stored directly on GitHub. The generated html has to be in the master branch, while Jekyll was deployed directly by GitHub. It&#39;s a point against using this solution.\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003Ch2 id=\\\"starting-the-project\\\"\u003EStarting the project\u003C\u002Fh2\u003E\\n\u003Cp\u003EStarting the project is as easy as:\u003C\u002Fp\u003E\\n\u003Cp\u003Enpm init svelte@next my-blog\u003C\u002Fp\u003E\\n\u003Cul\u003E\\n\u003Cli\u003EWe&#39;ll need to create a folder for the blog posts and Jekyll pages pages (I called it content)\u003C\u002Fli\u003E\\n\u003Cli\u003EOn src\u002Fstatic, I copied the \u003Cem\u003Eimages\u003C\u002Fem\u003E folder I already had on Jekyll, the favicon, the manifest file and the CNAME file that enables my domain on GitHub pages\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003Cp\u003EAnd that&#39;s it. Now, all the code has to be written so the blog renders the markdown entries\u003C\u002Fp\u003E\\n\u003Ch2 id=\\\"packagejson\\\"\u003Epackage.json\u003C\u002Fh2\u003E\\n\u003Cp\u003E\u003Cpre\u003E\u003Ccode\u003E\\n\u003Cspan class=\\\"token string\\\"\u003E\\\"scripts\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token string\\\"\u003E\\\"dev\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"svelte-kit dev\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token string\\\"\u003E\\\"build\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"npm run contentGen &amp;amp;&amp;amp; svelte-kit build\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token string\\\"\u003E\\\"start\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"svelte-kit start\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token string\\\"\u003E\\\"lint\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"prettier --check . &amp;amp;&amp;amp; eslint --ignore-path .gitignore .\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token string\\\"\u003E\\\"format\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"prettier --write .\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token string\\\"\u003E\\\"contentGen\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"markdown-json -c markdown-config.json\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token string\\\"\u003E\\\"watch-md\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"nodemon -e md -x \\\"\u003C\u002Fspan\u003Enpm run contentGen\u003Cspan class=\\\"token string\\\"\u003E\\\"\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token string\\\"\u003E\\\"dev-md\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"concurrently \\\"\u003C\u002Fspan\u003Enpm run dev\u003Cspan class=\\\"token string\\\"\u003E\\\" \\\"\u003C\u002Fspan\u003Enpm run watch\u003Cspan class=\\\"token operator\\\"\u003E-\u003C\u002Fspan\u003Emd\u003Cspan class=\\\"token string\\\"\u003E\\\"\\\"\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fp\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\u003Cem\u003Enpm run dev will\u003C\u002Fem\u003E start the main svelte server, and reload the content when the Svelte files change. The result can be seen on \u003Cem\u003Elocalhost:3000\u003C\u002Fem\u003E by default\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Cem\u003Enpm run contentGen\u003C\u002Fem\u003E will process the markdown files\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Cem\u003Enpm run watch-md\u003C\u002Fem\u003E will rerun the previous script every time that a markdown file changes\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Cem\u003Enpm run dev-md\u003C\u002Fem\u003E will run both the Svelte server ans the markdown generator. Stopping it doesn&#39;t work very well (tha console has to be closed to free the port), it&#39;s a point to improve\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003Ch2 id=\\\"markdown-config-json\\\"\u003Emarkdown-config-json\u003C\u002Fh2\u003E\\n\u003Cp\u003EThis is where the markdown files are rendered into a JSON object with the html to show on the site. The important part is setting the \u003Cem\u003Esrc\u003C\u002Fem\u003E directory where the markdown lives and a \u003Cem\u003Edist\u003C\u002Fem\u003E pat where we will get all the data from\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Cpre\u003E\u003Ccode\u003E\\n  \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token string\\\"\u003E\\\"name\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"markdown-json\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token string\\\"\u003E\\\"cwd\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\".\u002F\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token string\\\"\u003E\\\"src\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"content\u002F\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token string\\\"\u003E\\\"filePattern\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"&lt;em\u003E*\u002F&lt;\u002Fem\u003E.m*\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token string\\\"\u003E\\\"ignore\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token string\\\"\u003E\\\"dist\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"src\u002Flib\u002Fdata.json\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token string\\\"\u003E\\\"metadata\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token boolean\\\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token string\\\"\u003E\\\"server\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token boolean\\\"\u003Efalse\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fp\u003E\\n\u003Cp\u003EThe result, for each entry, is something like this:\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Cpre\u003E\u003Ccode\u003E\\n\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n      \u003Cspan class=\\\"token string\\\"\u003E\\\"id\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"An id that also matches the markdown path\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n      \u003Cspan class=\\\"token string\\\"\u003E\\\"contents\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"The rendered HTML\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n      \u003Cspan class=\\\"token string\\\"\u003E\\\"excerpt\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"The first part of the rendered HTML so it can be shown\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n      \u003Cspan class=\\\"token string\\\"\u003E\\\"layout\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"post\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n      \u003Cspan class=\\\"token string\\\"\u003E\\\"title\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"Post or page title\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n      \u003Cspan class=\\\"token string\\\"\u003E\\\"date\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n      \u003Cspan class=\\\"token string\\\"\u003E\\\"categories\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n      \u003Cspan class=\\\"token string\\\"\u003E\\\"tags\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n      \u003Cspan class=\\\"token string\\\"\u003E\\\"teaser\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"d3-composite-projections.png\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n      \u003Cspan class=\\\"token string\\\"\u003E\\\"meta\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token string\\\"\u003E\\\"relativePath\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"posts\\\\d3\\\\2015-05-12-d3-composite-projections.html\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token string\\\"\u003E\\\"createdAt\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"2021-04-11T18:28:06.923Z\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token string\\\"\u003E\\\"lastModified\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"2021-04-11T18:28:06.923Z\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token string\\\"\u003E\\\"size\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token number\\\"\u003E2668\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token string\\\"\u003E\\\"formattedSize\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"2.6 KB\\\"\u003C\u002Fspan\u003E\\n      \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fp\u003E\\n\u003Cp\u003EThe first three fields and the metadata will always appear, while the other fields will match the \u003Ca href=\\\"https:\u002F\u002Fjekyllrb.com\u002Fdocs\u002Ffront-matter\u002F\\\"\u003Efront matter section\u003C\u002Fa\u003E of your Jekyll file:\u003C\u002Fp\u003E\\n---\\nproperty: value\\ntags: [first, second, third]\\n-npm--\u003Cp\u003EThose properties are necessary to classify and sort the posts and pages.\u003C\u002Fp\u003E\\n\u003Ch2 id=\\\"svelte-config\\\"\u003ESvelte config\u003C\u002Fh2\u003E\\n\u003Cp\u003EThe svelte config I used is the following, prepared to generate the static site:\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Cpre\u003E\u003Ccode\u003E\\n\u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E sveltePreprocess \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token function\\\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"svelte-preprocess\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E nodeStatic \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token function\\\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"@sveltejs\u002Fadapter-static\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E pkg \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token function\\\"\u003Erequire\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\".\u002Fpackage.json\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\nmodule\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Eexports \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n    preprocess\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token function\\\"\u003EsveltePreprocess\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n    kit\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n        adapter\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token function\\\"\u003EnodeStatic\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E pages\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"..\u002Fbuild\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E assets\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"..\u002Fbuild\\\"\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n        appDir\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"staticApp\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n        target\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"#svelte\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n        vite\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n            ssr\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n                noExternal\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E Object\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Ekeys\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003Epkg\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Edependencies \u003Cspan class=\\\"token operator\\\"\u003E||\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\\n            \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fp\u003E\\n\u003Cul\u003E\\n\u003Cli\u003EappDir generates a static site\u003C\u002Fli\u003E\\n\u003Cli\u003Eadapter needs to set the build directory as specified. I needed using different repos for the build and the svelte app, so that&#39;s the way you can get a build in another directory\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003Ch2 id=\\\"apphtml-and-layoutsvelte\\\"\u003Eapp.html and $layout.svelte\u003C\u002Fh2\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\u003Cp\u003EAll svelte-kit projects have the app.html which is the place to import libraries (I didn&#39;t, better do it with an import inside the svelte files), add meta tags and so on. The meta tags can be added later, but the fixed ones can go here.\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Cp\u003E$layout.svelte is the base to our page, its where the header and footer are added. Let&#39;s see it, as it&#39;s similar to the other svelte files:\\n\u003Cpre\u003E\u003Ccode\u003E\\n\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E&lt;\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E \u003Cspan class=\\\"token attr-name\\\"\u003Elang\u003C\u002Fspan\u003E\u003Cspan class=\\\"token attr-value\\\"\u003E\u003Cspan class=\\\"token punctuation attr-equals\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E\\\"\u003C\u002Fspan\u003Ets\u003Cspan class=\\\"token punctuation\\\"\u003E\\\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E \u003Cspan class=\\\"token attr-name\\\"\u003Econtext\u003C\u002Fspan\u003E\u003Cspan class=\\\"token attr-value\\\"\u003E\u003Cspan class=\\\"token punctuation attr-equals\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E\\\"\u003C\u002Fspan\u003Emodule\u003Cspan class=\\\"token punctuation\\\"\u003E\\\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token script\\\"\u003E\u003Cspan class=\\\"token language-javascript\\\"\u003E\\n  \u003Cspan class=\\\"token keyword\\\"\u003Eimport\u003C\u002Fspan\u003E type \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E PageSummary \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E'$lib\u002Fmodel'\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n  \u003Cspan class=\\\"token keyword\\\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\\\"token function\\\"\u003Eload\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token parameter\\\"\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E fetch \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n      \u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E resultPages \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\\\"token function\\\"\u003Efetch\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E'\u002Fsummary_pages.json'\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n\\n      \u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E pages \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token keyword\\\"\u003Eawait\u003C\u002Fspan\u003E resultPages\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Ejson\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Eas\u003C\u002Fspan\u003E PageSummary\u003Cspan class=\\\"token punctuation\\\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n      \u003Cspan class=\\\"token keyword\\\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n          props\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E pages \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n      \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n  \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E&lt;\u002F\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E&lt;\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E \u003Cspan class=\\\"token attr-name\\\"\u003Elang\u003C\u002Fspan\u003E\u003Cspan class=\\\"token attr-value\\\"\u003E\u003Cspan class=\\\"token punctuation attr-equals\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E\\\"\u003C\u002Fspan\u003Ets\u003Cspan class=\\\"token punctuation\\\"\u003E\\\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token script\\\"\u003E\u003Cspan class=\\\"token language-javascript\\\"\u003E\\n  \u003Cspan class=\\\"token keyword\\\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E'..\u002Fapp.scss'\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n\\n  \u003Cspan class=\\\"token keyword\\\"\u003Eimport\u003C\u002Fspan\u003E Footer \u003Cspan class=\\\"token keyword\\\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E'$lib\u002Fcomponents\u002FFooter.svelte'\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n  \u003Cspan class=\\\"token keyword\\\"\u003Eimport\u003C\u002Fspan\u003E Header \u003Cspan class=\\\"token keyword\\\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E'$lib\u002Fcomponents\u002FHeader.svelte'\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n  \u003Cspan class=\\\"token keyword\\\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Elet\u003C\u002Fspan\u003E pages\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E PageSummary\u003Cspan class=\\\"token punctuation\\\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E&lt;\u002F\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E&lt;\u003C\u002Fspan\u003EHeader\u003C\u002Fspan\u003E \u003Cspan class=\\\"token attr-name\\\"\u003E{pages}\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E\u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E&lt;\u003C\u002Fspan\u003Emain\u003C\u002Fspan\u003E \u003Cspan class=\\\"token attr-name\\\"\u003Eclass\u003C\u002Fspan\u003E\u003Cspan class=\\\"token attr-value\\\"\u003E\u003Cspan class=\\\"token punctuation attr-equals\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E\\\"\u003C\u002Fspan\u003Epage-content\u003Cspan class=\\\"token punctuation\\\"\u003E\\\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\\n  \u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E&lt;\u003C\u002Fspan\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\\\"token attr-name\\\"\u003Eclass\u003C\u002Fspan\u003E\u003Cspan class=\\\"token attr-value\\\"\u003E\u003Cspan class=\\\"token punctuation attr-equals\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E\\\"\u003C\u002Fspan\u003Ewrapper\u003Cspan class=\\\"token punctuation\\\"\u003E\\\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\\n      \u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E&lt;\u003C\u002Fspan\u003Eslot\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E\u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\\n  \u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E&lt;\u002F\u003C\u002Fspan\u003Ediv\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E&lt;\u002F\u003C\u002Fspan\u003Emain\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token tag\\\"\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E&lt;\u003C\u002Fspan\u003EFooter\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E\u002F\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Cp\u003EWe have to define all the scripts as typescript or we&#39;ll get errors\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Cp\u003ENote that there are two scripts:\u003C\u002Fp\u003E\\n\u003Cul\u003E\\n\u003Cli\u003EWhen adding \u003Cem\u003Econtext=&quot;module&quot;\u003C\u002Fem\u003E, will run before the component is rendered. In our case, we&#39;ll use it to call the async functions that call the endpoints.\u003C\u002Fli\u003E\\n\u003Cli\u003EThe other script imports the components and exports the variables that we want to use in the template part (the links to the pages in our case)\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Cp\u003EThe \u003Cem\u003Eslot\u003C\u002Fem\u003E tag is where the actual pages will put their content\u003C\u002Fp\u003E\\n\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003Ch2 id=\\\"endpoints\\\"\u003EEndpoints\u003C\u002Fh2\u003E\\n\u003Cp\u003EYou can create as many endpoints as you want by adding *ts files to the routes. These files return json objects. It&#39;s a good practice to add the json to the name so they are called as json files in the path.\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Cem\u003Edata.json.ts\u003C\u002Fem\u003E could be like:\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Cpre\u003E\u003Ccode\u003E\\n\u003Cspan class=\\\"token keyword\\\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\\\"token function\\\"\u003Eget\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token keyword\\\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E body\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003Evalue\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token number\\\"\u003E42\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E status\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token number\\\"\u003E200\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fp\u003E\\n\u003Cp\u003EThe get function sets the get HTTP method, and returns the body of the response and the status. Playing with this is possible to create a complete REST API easily\u003C\u002Fp\u003E\\n\u003Ch2 id=\\\"getting-the-data\\\"\u003EGetting the data\u003C\u002Fh2\u003E\\n\u003Cp\u003EA real endpoint using the data created with \u003Cem\u003Emarkdown-json\u003C\u002Fem\u003E is using this function to do it (\u003Cem\u003Eget_contents.ts\u003C\u002Fem\u003E):\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Cpre\u003E\u003Ccode\u003E\\n\u003Cspan class=\\\"token keyword\\\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E data \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E'$lib\u002Fdata.json'\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token keyword\\\"\u003Eimport\u003C\u002Fspan\u003E type \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E PostSummary \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E'.\u002Fmodel'\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n\\n\u003Cspan class=\\\"token keyword\\\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E getContents \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003Enum_posts\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E string \u003Cspan class=\\\"token operator\\\"\u003E|\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Eundefined\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E PostSummary\u003Cspan class=\\\"token punctuation\\\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E=\u003E\u003C\u002Fspan\u003E\\n    Object\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Evalues\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003Edata\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Efilter\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token parameter\\\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E=\u003E\u003C\u002Fspan\u003E value\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Elayout \u003Cspan class=\\\"token operator\\\"\u003E===\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"post\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Esort\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token parameter\\\"\u003Ea\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E b\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\\\"token class-name\\\"\u003EDate\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003Eb\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Edate\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003EgetTime\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\\\"token class-name\\\"\u003EDate\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003Ea\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Edate\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003EgetTime\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Eslice\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token number\\\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E num_posts \u003Cspan class=\\\"token operator\\\"\u003E?\u003C\u002Fspan\u003E \u003Cspan class=\\\"token function\\\"\u003EparseInt\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003Enum_posts\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Eundefined\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Emap\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token parameter\\\"\u003Epost\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n            \u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E postDate \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\\\"token class-name\\\"\u003EDate\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003Epost\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Edate\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n            \u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E htmlPath \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E post\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Emeta\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003ErelativePath\\n                \u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Ereplace\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003E\\\\\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Eg\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"\u002F\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\\n                \u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Esplit\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"\u002F\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\\n                \u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Epop\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\\n                \u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Esplit\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"-\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\\n                \u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Eslice\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token number\\\"\u003E3\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\\n                \u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Ejoin\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"-\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n            \u003Cspan class=\\\"token keyword\\\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n                title\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E post\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Etitle\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n                date\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E post\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Edate\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n                tags\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E post\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Etags\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n                categories\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E post\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Ecategories\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n                teaser\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E post\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Eteaser\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n                slug\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003Ecode\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003E$\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003Epost\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Ecategories\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003E$\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003EpostDate\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003EgetFullYear\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003E$\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003EpostDate\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003EtoLocaleDateString\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\\n                    \u003Cspan class=\\\"token string\\\"\u003E\\\"en-US\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\\n                    \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n                        month\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"2-digit\\\"\u003C\u002Fspan\u003E\\n                    \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n                \u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003E$\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003EpostDate\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003EtoLocaleDateString\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"en-US\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E day\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E\\\"2-digit\\\"\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003E$\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003EhtmlPath\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Ecode\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n            \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fp\u003E\\n\u003Cp\u003EThis is the function that converts the \u003Cem\u003Edata.json\u003C\u002Fem\u003E file into the object we need. \u003C\u002Fp\u003E\\n\u003Cul\u003E\\n\u003Cli\u003EFirst, the data is filtered so we take only posts and not pages, sorted and ony the first \u003Cem\u003Enum_posts\u003C\u002Fem\u003E are returned\u003C\u002Fli\u003E\\n\u003Cli\u003EThe rest of the function just converts the paths and other Jekyll information into the one we need to show the list of posts\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003Ch2 id=\\\"components\\\"\u003EComponents\u003C\u002Fh2\u003E\\n\u003Cp\u003EUsing svelte-kit, the routes can have most of the component, so as separate components I used only one for the header, another for the footer (copied more or less directly from Jekyll) and one for the main page, that renders the image, title and tag for each blog post.\u003C\u002Fp\u003E\\n\u003Ch2 id=\\\"routes\\\"\u003ERoutes\u003C\u002Fh2\u003E\\n\u003Cp\u003ERouting is one of the nice svelte-kit features. The only problem I found is that using a static build, query strings don&#39;t work, so all the requests must be only with the path.\u003C\u002Fp\u003E\\n\u003Cp\u003EThere are some routes that don&#39;t have variable, like \u003Cem\u003Eblog.svelte\u003C\u002Fem\u003E\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003Escript lang\u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"ts\\\"\u003C\u002Fspan\u003E context\u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"module\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token keyword\\\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\\\"token function\\\"\u003Eload\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token parameter\\\"\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E fetch \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E resultPosts \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\\\"token function\\\"\u003Efetch\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E'blog.json'\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E posts \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token keyword\\\"\u003Eawait\u003C\u002Fspan\u003E resultPosts\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Ejson\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Eas\u003C\u002Fspan\u003E PostSummary\u003Cspan class=\\\"token punctuation\\\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E resultTagsAndCategories \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\\\"token function\\\"\u003Efetch\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E'tags-and-categories.json'\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E tagsAndCategories \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token keyword\\\"\u003Eawait\u003C\u002Fspan\u003E resultTagsAndCategories\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Ejson\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Eas\u003C\u002Fspan\u003E TagsAndCategories\u003Cspan class=\\\"token punctuation\\\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token keyword\\\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n            props\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E posts\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E tagsAndCategories \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Escript\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003Escript lang\u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"ts\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token keyword\\\"\u003Eimport\u003C\u002Fspan\u003E PostCard \u003Cspan class=\\\"token keyword\\\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E'$lib\u002Fcomponents\u002FPostCard.svelte'\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token keyword\\\"\u003Eimport\u003C\u002Fspan\u003E type \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E PostSummary\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E TagsAndCategories \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E'$lib\u002Fmodel'\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token keyword\\\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Elet\u003C\u002Fspan\u003E posts\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E PostSummary\u003Cspan class=\\\"token punctuation\\\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token keyword\\\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Elet\u003C\u002Fspan\u003E tagsAndCategories\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E TagsAndCategories \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E tags\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E categories\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Escript\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003Eh1\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003ECategories\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Eh1\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E#each tagsAndCategories\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Ecategories \u003Cspan class=\\\"token keyword\\\"\u003Eas\u003C\u002Fspan\u003E category\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E i\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003Ea href\u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"\u002Fcategories\u002F{category}\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003Ecategory\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Ea\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E#\u003Cspan class=\\\"token keyword\\\"\u003Eif\u003C\u002Fspan\u003E i \u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003E tagsAndCategories\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Ecategories\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Elength \u003Cspan class=\\\"token operator\\\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\\\"token number\\\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E' '\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003E\u003Cspan class=\\\"token keyword\\\"\u003Eif\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Eeach\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003Eh1\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003ETags\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Eh1\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003Ediv \u003Cspan class=\\\"token keyword\\\"\u003Eclass\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"tagcloud\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E#each tagsAndCategories\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Etags \u003Cspan class=\\\"token keyword\\\"\u003Eas\u003C\u002Fspan\u003E tag\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003Ea\\n            href\u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"\u002Ftags\u002F{tag.label}\\\"\u003C\u002Fspan\u003E\\n            style\u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E\\\"font\u003Cspan class=\\\"token operator\\\"\u003E-\u003C\u002Fspan\u003Esize\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\\\"token template-string\\\"\u003E\u003Cspan class=\\\"token template-punctuation string\\\"\u003E`\u003C\u002Fspan\u003E\u003Cspan class=\\\"token interpolation\\\"\u003E\u003Cspan class=\\\"token interpolation-punctuation punctuation\\\"\u003E${\u003C\u002Fspan\u003E\\n                \u003Cspan class=\\\"token number\\\"\u003E70\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E+\u003C\u002Fspan\u003E\\n                \u003Cspan class=\\\"token number\\\"\u003E100\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E*\u003C\u002Fspan\u003E\\n                    \u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003Etag\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Eoccurrences \u003Cspan class=\\\"token operator\\\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\\\"token number\\\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003E Math\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Emax\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E...\u003C\u002Fspan\u003EtagsAndCategories\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Etags\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Emap\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token parameter\\\"\u003Ed\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E=\u003E\u003C\u002Fspan\u003E d\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Eoccurrences\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\\n            \u003Cspan class=\\\"token interpolation-punctuation punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E%\u003C\u002Fspan\u003E\u003Cspan class=\\\"token template-punctuation string\\\"\u003E`\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\\"\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003Etag\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Elabel\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Ea\\n        \u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E' '\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Eeach\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Ediv\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003Earticle \u003Cspan class=\\\"token keyword\\\"\u003Eclass\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"post-content\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003Eh1\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003EPosts\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Eh1\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003Eul \u003Cspan class=\\\"token keyword\\\"\u003Eclass\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"post-list\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E#each posts \u003Cspan class=\\\"token keyword\\\"\u003Eas\u003C\u002Fspan\u003E post\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n            \u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003Eli\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n                \u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003EPostCard \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003Epost\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n            \u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Eli\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Eeach\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Eul\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Earticle\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003Ep \u003Cspan class=\\\"token keyword\\\"\u003Eclass\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"rss-subscribe\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003Esubscribe \u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003Ea href\u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"http:\u002F\u002Ffeeds.feedburner.com\u002FGeoexamples\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003Evia \u003Cspan class=\\\"token constant\\\"\u003ERSS\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Ea\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\\n\u003Cp\u003EOnly 50 lines to show all entries and a tag cloud! Again, a \u003Cem\u003Emodule\u003C\u002Fem\u003E context script is run before the component is mounted and provides the data.\u003C\u002Fp\u003E\\n\u003Cp\u003EThe tags cloud could be in another component, but this was a migration and there were many things to change.\u003C\u002Fp\u003E\\n\u003Cp\u003EEach blog entry takes from Jekyll a category and a date in the form:\u003C\u002Fp\u003E\\n\u003Cp\u003E  [category]\u002F[year]\u002F[month]\u002F[date]\u002F[slug]\u003C\u002Fp\u003E\\n\u003Cp\u003EThe file, then, has to go into an identical path and can use the \u003Cem\u003Epage\u003C\u002Fem\u003E variable in the \u003Cem\u003Eload\u003C\u002Fem\u003E function:\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Cpre\u003E\u003Ccode\u003E\\n\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003Escript lang\u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"ts\\\"\u003C\u002Fspan\u003E context\u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E\\\"module\\\"\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token keyword\\\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\\\"token function\\\"\u003Eload\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token parameter\\\"\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E page\u003Cspan class=\\\"token punctuation\\\"\u003E,\u003C\u002Fspan\u003E fetch \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E resultPosts \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\\\"token function\\\"\u003Efetch\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token template-string\\\"\u003E\u003Cspan class=\\\"token template-punctuation string\\\"\u003E`\u003C\u002Fspan\u003E\u003Cspan class=\\\"token interpolation\\\"\u003E\u003Cspan class=\\\"token interpolation-punctuation punctuation\\\"\u003E${\u003C\u002Fspan\u003Epage\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Eparams\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003Eslug\u003Cspan class=\\\"token interpolation-punctuation punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token string\\\"\u003E.json\u003C\u002Fspan\u003E\u003Cspan class=\\\"token template-punctuation string\\\"\u003E`\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E post \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token keyword\\\"\u003Eawait\u003C\u002Fspan\u003E resultPosts\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Ejson\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Eas\u003C\u002Fspan\u003E Post\u003Cspan class=\\\"token punctuation\\\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token keyword\\\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n            props\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E post \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n        \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token operator\\\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003Escript\u003Cspan class=\\\"token operator\\\"\u003E\u003E\u003C\u002Fspan\u003E\\n\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fp\u003E\\n\u003Cp\u003EUsing it gives us the value of the path. When generating the static web, each possible call will be rendered and we&#39;ll have the json and the html file.\u003C\u002Fp\u003E\\n\u003Cp\u003EThe endpoint will then have the same path but finished in \u003Cem\u003Ejson.ts\u003C\u002Fem\u003E. The important part is that the text stored in the data file has to be translated into the final html. This includes replacing the Jekyll placeholders and using \u003Cem\u003EPrism\u003C\u002Fem\u003E to translate the code:\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Cpre\u003E\u003Ccode\u003E\u003Cspan class=\\\"token keyword\\\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E configuration \u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E'$lib\u002Fconfig'\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token keyword\\\"\u003Eimport\u003C\u002Fspan\u003E Handlebars \u003Cspan class=\\\"token keyword\\\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E'handlebars'\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token keyword\\\"\u003Eimport\u003C\u002Fspan\u003E Prism \u003Cspan class=\\\"token keyword\\\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\\\"token string\\\"\u003E'prismjs'\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n\\n\u003Cspan class=\\\"token keyword\\\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E md2html \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003EmdContent\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E string\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\\\"token parameter\\\"\u003Estring\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E template \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E Handlebars\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Ecompile\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003EmdContent\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E text \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\\\"token function\\\"\u003Etemplate\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003Econfiguration\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E;\u003C\u002Fspan\u003E\\n\\n\u003Cspan class=\\\"token keyword\\\"\u003Econst\u003C\u002Fspan\u003E codeMatches \u003Cspan class=\\\"token operator\\\"\u003E=\u003C\u002Fspan\u003E text\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token function\\\"\u003Ematch\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E\u002F\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E%\u003C\u002Fspan\u003E highlight \u003Cspan class=\\\"token punctuation\\\"\u003E[\u003C\u002Fspan\u003Ea\u003Cspan class=\\\"token operator\\\"\u003E-\u003C\u002Fspan\u003Ez\u003Cspan class=\\\"token punctuation\\\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\\\"token operator\\\"\u003E%\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\\\"token punctuation\\\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E|\u003C\u002Fspan\u003E\\\\n\u003Cspan class=\\\"token punctuation\\\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E*\u003C\u002Fspan\u003E\u003Cspan class=\\\"token operator\\\"\u003E?\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u002Fg);\\n\\nconst formattedCode = codeMatches?.map((d) =&gt; {\\n    const lang = d\\n        .match(\u002F{% highlight [a-z]* %}\u002Fg)[0]\\n        .replace(\u002F{% highlight \u002Fg, &#39;&#39;)\\n        .replace(\u002F %}\u002Fg, &#39;&#39;);\\n    const code = d\\n        .replace(\u002F&lt;p&gt;\u002Fg, &#39;\\\\n&#39;)\\n        .replace(\u002F&lt;\\\\\u002Fp&gt;\u002Fg, &#39;&#39;)\\n        .replace(\u002F&amp;quot;\u002Fgi, `&quot;`)\\n        .replace(\u002F&amp;lt;\u002Fgi, &#39;&lt;&#39;)\\n        .replace(\u002F&amp;gt;\u002Fgi, &#39;&gt;&#39;)\\n        .replace(\u002F{% highlight [a-z]* %}\u002Fg, &#39;&#39;)\\n        .replace(\u002F{% endhighlight %}\u002Fg, &#39;&#39;);\\n\\n    switch (lang) {\\n        case &#39;js&#39;:\\n            return `&lt;pre&gt;&lt;code&gt;${Prism.highlight(code, Prism.languages.javascript)}&lt;\u002Fcode&gt;&lt;\u002Fpre&gt;`;\\n        case &#39;json&#39;:\\n            return `&lt;pre&gt;&lt;code&gt;${Prism.highlight(code, Prism.languages.javascript)}&lt;\u002Fcode&gt;&lt;\u002Fpre&gt;`;\\n        case &#39;html&#39;:\\n            return `&lt;pre&gt;&lt;code&gt;${Prism.highlight(code, Prism.languages.html)}&lt;\u002Fcode&gt;&lt;\u002Fpre&gt;`;\\n        case &#39;python&#39;:\\n            return `&lt;pre&gt;&lt;code&gt;${Prism.highlight(code, Prism.languages.js)}&lt;\u002Fcode&gt;&lt;\u002Fpre&gt;`;\\n        default:\\n            return `&lt;pre&gt;&lt;code&gt;${Prism.highlight(code, Prism.languages.js)}&lt;\u002Fcode&gt;&lt;\u002Fpre&gt;`;\\n    }\\n});\\n\\nreturn codeMatches?.reduce((acc, curr, i) =&gt; acc.replace(curr, formattedCode[i]), text) ?? text;\u003Cp\u003E};\\n{% endhighlight %}\u003C\u002Fp\u003E\\n\u003Cul\u003E\\n\u003Cli\u003EThe placeholders from Jekyll are replaced using handlebars. For instance  would be changed to the name in the configuration.\u003C\u002Fli\u003E\\n\u003Cli\u003EPrism has to detect the language. The problem is that by default it doesn&#39;t include Python and I didn&#39;t find the way to do it in Svelte (instructions are for babel). Using the Javascript hightlighting for python doesn&#39;t give a bad result.\u003C\u002Fli\u003E\\n\u003Cli\u003EHTML entities give some problems, so I had to replace them. Maybe there&#39;s a better way...\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003Ch2 id=\\\"deploying\\\"\u003EDeploying\u003C\u002Fh2\u003E\\n\u003Cp\u003ETo make things faster I didn&#39;t want to change my GitHub hosting with gh-pages. To upload a site there, a repo with the name \u003Cem\u003Eusername.github.io\u003C\u002Fem\u003E has to be created. With Jekyll is cool because you can upload your Jekyll code directly there and GitHub creates the static site directly. In this case, we have the html and this is what has to go there, while the site code can go either in another branch or another repo (my option).\u003C\u002Fp\u003E\\n\u003Cp\u003ETo make the custom domain work, a file called \u003Cem\u003ECNAME\u003C\u002Fem\u003E with the domain as the content must be in the \u003Cem\u003Estatic\u003C\u002Fem\u003E folder.\u003C\u002Fp\u003E\\n\u003Ch2 id=\\\"links\\\"\u003ELinks\u003C\u002Fh2\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Frveciana\u002Fgeoexamples-blog\\\"\u003EBlog code repo\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"http:\u002F\u002Fgeoexamples.blogspot.com\u002F\\\"\u003EBlogspot blog\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fghostinspector.com\u002Fblog\u002Frebuilding-jekyll-website-next-js-theme-ui\u002F\\\"\u003EMigrating from Jekyll to Nextjs\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fkit.svelte.dev\u002Fdocs\\\"\u003Esvelte-kit\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Fklaytonfaria\u002Fmarkdown-json#readme\\\"\u003Emarkdown-json\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002FPrismJS\u002Fprism#readme\\\"\u003Eprismjs\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fhandlebarsjs.com\u002F\\\"\u003Ehandlebars\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fsass-lang.com\u002F\\\"\u003ESass\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fpages.github.com\u002F\\\"\u003EGitHub pages\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fjekyllrb.com\u002Fdocs\u002Ffront-matter\u002F\\\"\u003EFront Matter\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\",\"tags\":[\"jekyll\",\"svelte-kit\",\"markdown\"],\"date\":\"2021-04-21T18:40:53.000Z\"}"}</script>
</div>
	</body>
</html>
