{"title":"svg-path-properties","contents":"<p>SVG has the <a href=\"https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths\">path element</a>, which allows to draw complex lines and curves. JavaScript has <a href=\"https://developer.mozilla.org/ca/docs/Web/API/SVGPathElement\">some methods</a> to get properties from paths, such as <em>getTotalLength()</em> and <em>getPointAtLength()</em>, which are very useful when e.g. creating SVG animations with <a href=\"https://d3js.org/\">D3js</a> transitions.</p>\n<p>Unfortunately, when working with a <a href=\"http://www.w3schools.com/tags/ref_canvas.asp\">Canvas element</a>, or when working with nodejs, these functions are not available, making very difficult to obtain these informations.</p>\n<p>That&#39;s why I made the <a href=\"https://github.com/rveciana/svg-path-properties\">svg-path-properties library</a></p>\n<h2 id=\"svg-path-properties-library\">svg-path-properties library</h2>\n<h1 id=\"install\">Install</h1>\n<p>To use with npm, just type:</p>\n<pre><code>npm install svg-path-properties</code></pre><p>To use it directly from the browser, include the script and call it with the prefix <em>spp</em>:</p>\n<pre><code>&lt;script src=&quot;https://unpkg.com/svg-path-properties@0.1.1/build/path-properties.min.js&quot;&gt;&lt;/script&gt;\nspp.svgPathProperties(path(track));</code></pre><h1 id=\"usage\">Usage</h1>\n<p>First, require the library and initialize it with the path string:</p>\n<pre><code>var path = require(&quot;svg-path-properties&quot;);\nvar properties = path.svgPathProperties(&quot;M0,100 Q50,-50 100,100 T200,100&quot;);</code></pre><p>Then, access the different properties with the different methods</p>\n<p>Get the path total length in pixels:</p>\n<pre><code>var length = properties.getTotalLength();</code></pre><p>Get the point on the path at certain length (in pixels):</p>\n<pre><code>var point = properties.getPointAtLength(200);</code></pre><p>Get the tangent vector at certain length (in pixels):</p>\n<pre><code>var tangent = properties.getTangentAtLength(200);</code></pre><p>Get the point position and the tangent vector at the same time (more efficient than doing it with the separate methods):</p>\n<pre><code>var allProperties = properties.getPropertiesAtLength(200);</code></pre><h2 id=\"some-examples\">Some examples</h2>\n<p><a href=\"http://bl.ocks.org/rveciana/77655c3c0e3073c19da34af6dc84c4b9\"><img src=\"/images/other/svg-path-properties/thumbnail_bostock.png\"/>Canvas &amp; svg-path-properties Point-Along-Path Interpolation</a>: Canvas version of <a href=\"http://bl.ocks.org/mbostock/1705868\">this block by Mike Bostock</a>.</p>\n<p><a href=\"http://bl.ocks.org/rveciana/209fa7efeb01f05fa4a544a76ac8ed91\"><img src=\"/images/other/svg-path-properties/thumbnail_path.png\"/>Canvas path animation</a>: A path on a map that draws itself to show a train route.</p>\n<p><a href=\"http://bl.ocks.org/rveciana/bef48021e38a77a520109d2088bff9eb\"><img src=\"/images/other/svg-path-properties/thumbnail_isolines.png\"/>Label positioning with svg-path-properties</a>: Isolines labeling. Finding the position and angle isn&#39;t possible even with SVG paths alone.</p>\n<p><a href=\"http://bl.ocks.org/rveciana/edb1dd43f3edc5d16ecaf4839c032dec\"><img src=\"/images/other/svg-path-properties/thumbnail_streamlines.png\"/>Drawing streamlines from a GeoTIFF file</a>: Marking the streamlines direction with an arrow isn&#39;t possible if the position and tangent is unknown.</p>\n<p>I would be very happy to know if somebody is using it and creates something with the library.</p>\n<h2 id=\"links\">Links</h2>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths\">SVG path element</a></li>\n<li><a href=\"https://developer.mozilla.org/ca/docs/Web/API/SVGPathElement\">SVG path access methods</a></li>\n<li><a href=\"http://www.w3schools.com/tags/ref_canvas.asp\">Canvas element</a></li>\n<li><a href=\"https://github.com/rveciana/svg-path-properties\">svg-path-properties library</a></li>\n</ul>\n","tags":["canvas","svg"],"date":"2016-12-01T00:00:00.000Z"}