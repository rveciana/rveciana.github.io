<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="manifest" href="/manifest.json" />
		<meta name="theme-color" content="#cdffcd">
		<!-- HTML Meta Tags -->
		<title>GeoExamples - Roger Veciana</title>
		<meta
			name="description"
			content="I am a software developer and meteorologist who likes mapping. I put here the things I learn on my free time."
		/>
		<!-- Google / Search Engine Tags -->
		<meta itemprop="name" content=">GeoExamples - Roger Veciana" />
		<meta
			itemprop="description"
			content="I am a software developer and meteorologist who likes mapping. I put here the things I learn on my free time."
		/>
		<meta itemprop="image" content="https://geoexamples.com/siteImage.png" />
		<!-- Facebook Meta Tags -->
		<meta property="og:url" content="https://geoexamples.com" />
		<meta property="og:type" content="website" />
		<meta property="og:title" content="GeoExamples - Roger Veciana" />
		<meta
			property="og:description"
			content="I am a software developer and meteorologist who likes mapping. I put here the things I learn on my free time."
		/>
		<meta property="og:image" content="https://geoexamples.com/siteImage.png" />
		<!-- Twitter Meta Tags -->
		<meta name="twitter:card" content="summary" />
		<meta name="twitter:title" content="GeoExamples - Roger Veciana" />
		<meta name="twitter:description"
		  content="I am a software developer and meteorologist who likes mapping. I put here the things I learn on my free time." />
		<meta name="twitter:image" content="https://geoexamples.com/siteImage.png" />
		



<link rel="modulepreload" href="/./staticApp/start-44631b0b.js">
			<link rel="modulepreload" href="/./staticApp/chunks/vendor-ff3d1764.js">
			<link rel="modulepreload" href="/./staticApp/chunks/config-b3bde751.js">
			<link rel="modulepreload" href="/./staticApp/pages\[category]\[year]\[month]\[date]\[slug].svelte-a77716b3.js">
			<link rel="stylesheet" href="/./staticApp/assets/start-34a290f9.css">


		<script type="module">
			import { start } from "/./staticApp/start-44631b0b.js";
			start({
				target: document.querySelector("#svelte"),
				paths: {"base":"","assets":"/."},
				session: {},
				host: location.host,
				route: true,
				hydrate: {
					status: 200,
					error: null,
					nodes: [
						import("/./staticApp/pages\\[category]\\[year]\\[month]\\[date]\\[slug].svelte-a77716b3.js")
					],
					page: {
						host: location.host, // TODO this is redundant
						path: "/other/2015/11/30/eurostat-data-cartodb.html",
						query: new URLSearchParams(""),
						params: {"category":"other","year":"2015","month":"11","date":"30","slug":"eurostat-data-cartodb.html"}
					}
				}
			});
		</script>
	</head>
	<body>
		<div id="svelte">


<header class="site-header"><div class="wrapper"><a class="site-title" href="/">GeoExamples - Roger Veciana</a>

<nav class="site-nav"><div href="#" class="menu-icon"><svg viewBox="0 0 18 15"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></div>

	<div class="trigger"><a class="page-link" href="/about">About</a><a class="page-link" href="/blog">Blog</a><a class="page-link" href="/projects">Projects</a></div></nav></div></header>

<main class="page-content"><div class="wrapper"><div class="post"><header class="post-header"><h1 class="post-title">Mapping EUROSTAT data with CartoDB</h1>
<p class="post-meta">Nov 30, 2015</p></header>

	<article class="post-content"><p>It&#39;s been a long time since I wanted to learn how to use CartoDB. Everybody around me is using it, even some colleagues are now working there, so I definitely had to know how to use it so I can talk with them!</p>
<p>I had played a little with it, but without a small challenge it&#39;s difficult to go anywhere. So I&#39;ve made a map with the same EUROSTAT data used in the <a href="/d3/2015/09/25/d3-creating-EUROSTAT-maps.html">previous post</a>. I&#39;m happy with the result, and it&#39;s really a good tool to create nice and useful maps very fast.</p>
<p>I&#39;ll go really step-by-step (I&#39;m still a rookie), but it&#39;s really straight forward.</p>
<h2 id="obtaining-the-data">Obtaining the data</h2>
<p>I wrote how to get the data in the <a href="/d3/2015/09/25/d3-creating-EUROSTAT-maps.html">previous post</a>. To get a ma with CartoDB, merging the data file and the shapefiles is not necessary, since CartoDB can do it for you! So we only need the original <a href="http://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/administrative-units-statistical-units">NUTS regions shp file</a> and some sample data. We will use again the povertry rate, <a href="/d3/2015/09/25/d3-creating-EUROSTAT-maps.html">learn how to download it</a>. The CSV header must be changed to:</p>
<p>GEO,GEO(L)/TIME,rate_2010,rate_2011,rate_2012,rate_2013,rate_2014</p>
<p>If the fields are a number, CartoDB will take the header as data and you will have to remove it later and put names to the columns. It&#39;s better to do it before.</p>
<p>The shapefile must be in a zip file, since a Shapefile is a set of at least three files, and you can oly upload one at once.</p>
<h2 id="uploading-the-data">Uploading the data</h2>
<p>Once you have both files, <em>nuts_rg_01m_2013.zip</em> and <em>povertry_rate.csv</em>, upload them into CartoDB:</p>
<ul>
<li>Login to CartoDB (or create an account. I did it directly with my Google account)</li>
<li>At the main Dashboard, select <em>Your datasets</em> next to your user name at the top left side. Now, you will have something like this:</li>
</ul>
<img src="/images/other/eurostat-cartodb/upload.png"/>

<p>If you open the <em>nuts_rg_01m_2013</em> dataset, you will get a table with all the shapefile fields. If you choose the <em>MAP VIEW</em> option, you can get a first view of the Shapefile:</p>
<img src="/images/other/eurostat-cartodb/nuts.png"/>

<p>Open now the <em>povertry_rate</em> dataset. There is a thing to do here. By default, the fields are all strings, and we want the povertry rates to be floats, since then CartoDB can order and color the values. This image shoes how to do it. We will use the rate_2013 field, since its the one that will match the NUTS file from 2013 and has all the data (unlike the 2014):</p>
<img src="/images/other/eurostat-cartodb/data_type.png"/>

<h2 id="merging-the-datasets">Merging the datasets</h2>
<p>There are two options to join both tables. The first one is to use the <em>merge datasets</em> button:</p>
<img src="/images/other/eurostat-cartodb/merge_button.png"/>

<p>It&#39;s maybe an easiest option, but not very convenient, since it will create a new table with the merged data. If you are using the free CartoDB version, this will make you run out of space very fast. The alternative is creating a good SQL query that joins the two tables dynamically. I&#39;ll explain it in the next section.</p>
<h2 id="creating-the-map">Creating the map</h2>
<p>Creating a map is very easy. When you select a <em>dataset</em>, there&#39;s a button to do so. But in our case, we want to change the SQL, so we will create an independent map:</p>
<p>Go to your account&#39;s maps section:</p>
<img src="/images/other/eurostat-cartodb/maps_section.png"/>

<p>Then, create a new map. At the <em>sql section</em>, paste the following code:</p>
<p>
SELECT a.cartodb<em>id, a.the_geom_webmercator,
b.rate_2013, b.geo_l_time as name
FROM nuts_rg_01m_2013 a, povertry_rate b
WHERE
b.geo = a.nuts_id
AND a.stat_levl</em> = 0
</p>
<ul>
<li>Note that the <em>SELECT</em> is a regular PosgreSQL/PostGIS query</li>
<li>At the <em>FROM</em> part of the query I&#39;ve selected the two datasets</li>
<li><em>a.cartodb_id</em> is necessary to make queries over the map (<em>onclick</em> and <em>onmouseover</em>)</li>
<li><em>a.the_geom_webmercator</em> is necessary to get the geometries from the <em>nuts_rg_01m_2013</em> dataset. When joining two tables, CartoDB needs to know which is the geometry column from the result</li>
<li>The other selected fields are the name and the povertry rate, necessary to put colors and create the <em>onclick</em> queries</li>
<li>The <em>WHERE</em> section joins both tables and selects only the countries (NUTS0, stored at the <em>stat<em>levl</em></em> field)</li>
</ul>
<img src="/images/other/eurostat-cartodb/sql_section.png"/>

<h2 id="formatting-the-map">Formatting the map</h2>
<p>Now, we only have to format the map a little. The first thing, let&#39;s create a choropleth map. Just put the settings as in the following image:</p>
<img src="/images/other/eurostat-cartodb/colours.png"/>

<p>This will color the map, but with the intervals set automatically. It&#39;s a nice start, but the intervals aren&#39;t the best ones. To change it, just change the <em>css</em> section:</p>
<img src="/images/other/eurostat-cartodb/colours.png"/>

<p>You can change the scale at the <em>scale section</em> under the <em>css section</em>. Finally, activate the <em>onclick</em> behaviour:</p>
<img src="/images/other/eurostat-cartodb/click.png"/>

<h2 id="the-result">The result</h2>
<p>At the top right corner, you can find how to publish the new map. Here you have the result:</p>
<iframe width="100%" height="520" frameborder="0" src="https://rveciana.cartodb.com/viz/5a239902-9074-11e5-a3da-0ecd1babdde5/embed_map" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>

<p>Once done the first time, creating new maps is really easy. I&#39;m impressed with it!</p>
<h2 id="links">Links</h2>
<ul>
<li><a href="/d3/2015/09/25/d3-creating-EUROSTAT-maps.html">Mapping EUROSTAT data with D3js</a></li>
<li><a href="http://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/administrative-units-statistical-units">Download the NUTS regions file</a></li>
<li><a href="http://docs.cartodb.com/">CartoDB docs</a></li>
<li><a href="http://docs.cartodb.com/cartodb-editor/">CartoDB editor docs</a></li>
</ul>
</article></div></div></main>
<footer class="site-footer"><div class="wrapper"><div class="footer-col-wrapper"><div class="footer-col  footer-col-1"><ul class="contact-list"><li>GeoExamples - Roger Veciana</li></ul></div>

	<div class="footer-col  footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/rveciana"><span class="icon  icon--github"><svg viewBox="0 0 16 16"><path fill="#89b889" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"></path></svg></span>

						<span class="username">rveciana</span></a></li>

			<li><a href="https://twitter.com/rveciana"><span class="icon  icon--twitter"><svg viewBox="0 0 16 16"><path fill="#89b889" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                    c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"></path></svg></span>

						<span class="username">rveciana</span></a></li>
			<li><a href="https://www.linkedin.com/in/rogerveciana"><span class="icon  icon--twitter"><svg width="16" height="15.28958"><path d="M 0,1.77606 Q 0,1.00386 0.54054,0.50193 1.08108,0 1.94595,0 2.79537,0 3.32047,0.49421 3.86101,1.00386 3.86101,1.8224 q 0,0.74131 -0.5251,1.23552 -0.54054,0.50965 -1.42085,0.50965 l -0.0154,0 q -0.84942,0 -1.37452,-0.50965 Q 4e-5,2.54827 4e-5,1.77606 Z m 0.20078,13.51352 0,-10.3166 3.42857,0 0,10.3166 -3.42857,0 z m 5.32818,0 3.42857,0 0,-5.76062 q 0,-0.54054 0.12355,-0.83398 0.21622,-0.52509 0.65638,-0.88803 0.44015,-0.36293 1.10424,-0.36293 1.72973,0 1.72973,2.33205 l 0,5.51351 3.42857,0 0,-5.91506 Q 16,7.08881 14.91892,5.90734 13.83784,4.72587 12.06178,4.72587 q -1.99228,0 -3.10425,1.71429 l 0,0.0309 -0.0154,0 0.0154,-0.0309 0,-1.46718 -3.42857,0 q 0.0309,0.49421 0.0309,3.07336 0,2.57915 -0.0309,7.24324 z"></path></svg></span>

						<span class="username">rogerveciana</span></a></li></ul></div>

	<div class="footer-col  footer-col-3"><p class="text">I am a software developer and meteorologist who likes mapping. I put here the things I learn on my free time.</p>
		<p class="text">Roger Veciana i Rovira</p></div></div></div></footer>



	<script type="svelte-data" url="/summary_pages.json">{"status":200,"statusText":"","headers":{"content-type":"application/json"},"body":"[{\"title\":\"About\",\"permalink\":\"\u002Fabout\",\"excerpt\":\"\u003Cp\u003E{{ site.author.name }}\u003C\u002Fp\u003E\"},{\"title\":\"CV\",\"permalink\":\"\u002Fcv\",\"excerpt\":\"\u003Ch2 id=\\\"jobs\\\"\u003EJobs\u003C\u002Fh2\u003E\",\"avoidMainMenu\":true},{\"title\":\"Projects\",\"permalink\":\"\u002Fprojects\",\"excerpt\":\"\u003Cp\u003ESome of my personal projects:\u003C\u002Fp\u003E\"}]"}</script>

	<script type="svelte-data" url="eurostat-data-cartodb.html.json">{"status":200,"statusText":"","headers":{"content-type":"application/json"},"body":"{\"title\":\"Mapping EUROSTAT data with CartoDB\",\"contents\":\"\u003Cp\u003EIt&#39;s been a long time since I wanted to learn how to use CartoDB. Everybody around me is using it, even some colleagues are now working there, so I definitely had to know how to use it so I can talk with them!\u003C\u002Fp\u003E\\n\u003Cp\u003EI had played a little with it, but without a small challenge it&#39;s difficult to go anywhere. So I&#39;ve made a map with the same EUROSTAT data used in the \u003Ca href=\\\"\u002Fd3\u002F2015\u002F09\u002F25\u002Fd3-creating-EUROSTAT-maps.html\\\"\u003Eprevious post\u003C\u002Fa\u003E. I&#39;m happy with the result, and it&#39;s really a good tool to create nice and useful maps very fast.\u003C\u002Fp\u003E\\n\u003Cp\u003EI&#39;ll go really step-by-step (I&#39;m still a rookie), but it&#39;s really straight forward.\u003C\u002Fp\u003E\\n\u003Ch2 id=\\\"obtaining-the-data\\\"\u003EObtaining the data\u003C\u002Fh2\u003E\\n\u003Cp\u003EI wrote how to get the data in the \u003Ca href=\\\"\u002Fd3\u002F2015\u002F09\u002F25\u002Fd3-creating-EUROSTAT-maps.html\\\"\u003Eprevious post\u003C\u002Fa\u003E. To get a ma with CartoDB, merging the data file and the shapefiles is not necessary, since CartoDB can do it for you! So we only need the original \u003Ca href=\\\"http:\u002F\u002Fec.europa.eu\u002Feurostat\u002Fweb\u002Fgisco\u002Fgeodata\u002Freference-data\u002Fadministrative-units-statistical-units\\\"\u003ENUTS regions shp file\u003C\u002Fa\u003E and some sample data. We will use again the povertry rate, \u003Ca href=\\\"\u002Fd3\u002F2015\u002F09\u002F25\u002Fd3-creating-EUROSTAT-maps.html\\\"\u003Elearn how to download it\u003C\u002Fa\u003E. The CSV header must be changed to:\u003C\u002Fp\u003E\\n\u003Cp\u003EGEO,GEO(L)\u002FTIME,rate_2010,rate_2011,rate_2012,rate_2013,rate_2014\u003C\u002Fp\u003E\\n\u003Cp\u003EIf the fields are a number, CartoDB will take the header as data and you will have to remove it later and put names to the columns. It&#39;s better to do it before.\u003C\u002Fp\u003E\\n\u003Cp\u003EThe shapefile must be in a zip file, since a Shapefile is a set of at least three files, and you can oly upload one at once.\u003C\u002Fp\u003E\\n\u003Ch2 id=\\\"uploading-the-data\\\"\u003EUploading the data\u003C\u002Fh2\u003E\\n\u003Cp\u003EOnce you have both files, \u003Cem\u003Enuts_rg_01m_2013.zip\u003C\u002Fem\u003E and \u003Cem\u003Epovertry_rate.csv\u003C\u002Fem\u003E, upload them into CartoDB:\u003C\u002Fp\u003E\\n\u003Cul\u003E\\n\u003Cli\u003ELogin to CartoDB (or create an account. I did it directly with my Google account)\u003C\u002Fli\u003E\\n\u003Cli\u003EAt the main Dashboard, select \u003Cem\u003EYour datasets\u003C\u002Fem\u003E next to your user name at the top left side. Now, you will have something like this:\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003Cimg src=\\\"\u002Fimages\u002Fother\u002Feurostat-cartodb\u002Fupload.png\\\"\u002F\u003E\\n\\n\u003Cp\u003EIf you open the \u003Cem\u003Enuts_rg_01m_2013\u003C\u002Fem\u003E dataset, you will get a table with all the shapefile fields. If you choose the \u003Cem\u003EMAP VIEW\u003C\u002Fem\u003E option, you can get a first view of the Shapefile:\u003C\u002Fp\u003E\\n\u003Cimg src=\\\"\u002Fimages\u002Fother\u002Feurostat-cartodb\u002Fnuts.png\\\"\u002F\u003E\\n\\n\u003Cp\u003EOpen now the \u003Cem\u003Epovertry_rate\u003C\u002Fem\u003E dataset. There is a thing to do here. By default, the fields are all strings, and we want the povertry rates to be floats, since then CartoDB can order and color the values. This image shoes how to do it. We will use the rate_2013 field, since its the one that will match the NUTS file from 2013 and has all the data (unlike the 2014):\u003C\u002Fp\u003E\\n\u003Cimg src=\\\"\u002Fimages\u002Fother\u002Feurostat-cartodb\u002Fdata_type.png\\\"\u002F\u003E\\n\\n\u003Ch2 id=\\\"merging-the-datasets\\\"\u003EMerging the datasets\u003C\u002Fh2\u003E\\n\u003Cp\u003EThere are two options to join both tables. The first one is to use the \u003Cem\u003Emerge datasets\u003C\u002Fem\u003E button:\u003C\u002Fp\u003E\\n\u003Cimg src=\\\"\u002Fimages\u002Fother\u002Feurostat-cartodb\u002Fmerge_button.png\\\"\u002F\u003E\\n\\n\u003Cp\u003EIt&#39;s maybe an easiest option, but not very convenient, since it will create a new table with the merged data. If you are using the free CartoDB version, this will make you run out of space very fast. The alternative is creating a good SQL query that joins the two tables dynamically. I&#39;ll explain it in the next section.\u003C\u002Fp\u003E\\n\u003Ch2 id=\\\"creating-the-map\\\"\u003ECreating the map\u003C\u002Fh2\u003E\\n\u003Cp\u003ECreating a map is very easy. When you select a \u003Cem\u003Edataset\u003C\u002Fem\u003E, there&#39;s a button to do so. But in our case, we want to change the SQL, so we will create an independent map:\u003C\u002Fp\u003E\\n\u003Cp\u003EGo to your account&#39;s maps section:\u003C\u002Fp\u003E\\n\u003Cimg src=\\\"\u002Fimages\u002Fother\u002Feurostat-cartodb\u002Fmaps_section.png\\\"\u002F\u003E\\n\\n\u003Cp\u003EThen, create a new map. At the \u003Cem\u003Esql section\u003C\u002Fem\u003E, paste the following code:\u003C\u002Fp\u003E\\n\u003Cp\u003E\\nSELECT a.cartodb\u003Cem\u003Eid, a.the_geom_webmercator,\\nb.rate_2013, b.geo_l_time as name\\nFROM nuts_rg_01m_2013 a, povertry_rate b\\nWHERE\\nb.geo = a.nuts_id\\nAND a.stat_levl\u003C\u002Fem\u003E = 0\\n\u003C\u002Fp\u003E\\n\u003Cul\u003E\\n\u003Cli\u003ENote that the \u003Cem\u003ESELECT\u003C\u002Fem\u003E is a regular PosgreSQL\u002FPostGIS query\u003C\u002Fli\u003E\\n\u003Cli\u003EAt the \u003Cem\u003EFROM\u003C\u002Fem\u003E part of the query I&#39;ve selected the two datasets\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Cem\u003Ea.cartodb_id\u003C\u002Fem\u003E is necessary to make queries over the map (\u003Cem\u003Eonclick\u003C\u002Fem\u003E and \u003Cem\u003Eonmouseover\u003C\u002Fem\u003E)\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Cem\u003Ea.the_geom_webmercator\u003C\u002Fem\u003E is necessary to get the geometries from the \u003Cem\u003Enuts_rg_01m_2013\u003C\u002Fem\u003E dataset. When joining two tables, CartoDB needs to know which is the geometry column from the result\u003C\u002Fli\u003E\\n\u003Cli\u003EThe other selected fields are the name and the povertry rate, necessary to put colors and create the \u003Cem\u003Eonclick\u003C\u002Fem\u003E queries\u003C\u002Fli\u003E\\n\u003Cli\u003EThe \u003Cem\u003EWHERE\u003C\u002Fem\u003E section joins both tables and selects only the countries (NUTS0, stored at the \u003Cem\u003Estat\u003Cem\u003Elevl\u003C\u002Fem\u003E\u003C\u002Fem\u003E field)\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003Cimg src=\\\"\u002Fimages\u002Fother\u002Feurostat-cartodb\u002Fsql_section.png\\\"\u002F\u003E\\n\\n\u003Ch2 id=\\\"formatting-the-map\\\"\u003EFormatting the map\u003C\u002Fh2\u003E\\n\u003Cp\u003ENow, we only have to format the map a little. The first thing, let&#39;s create a choropleth map. Just put the settings as in the following image:\u003C\u002Fp\u003E\\n\u003Cimg src=\\\"\u002Fimages\u002Fother\u002Feurostat-cartodb\u002Fcolours.png\\\"\u002F\u003E\\n\\n\u003Cp\u003EThis will color the map, but with the intervals set automatically. It&#39;s a nice start, but the intervals aren&#39;t the best ones. To change it, just change the \u003Cem\u003Ecss\u003C\u002Fem\u003E section:\u003C\u002Fp\u003E\\n\u003Cimg src=\\\"\u002Fimages\u002Fother\u002Feurostat-cartodb\u002Fcolours.png\\\"\u002F\u003E\\n\\n\u003Cp\u003EYou can change the scale at the \u003Cem\u003Escale section\u003C\u002Fem\u003E under the \u003Cem\u003Ecss section\u003C\u002Fem\u003E. Finally, activate the \u003Cem\u003Eonclick\u003C\u002Fem\u003E behaviour:\u003C\u002Fp\u003E\\n\u003Cimg src=\\\"\u002Fimages\u002Fother\u002Feurostat-cartodb\u002Fclick.png\\\"\u002F\u003E\\n\\n\u003Ch2 id=\\\"the-result\\\"\u003EThe result\u003C\u002Fh2\u003E\\n\u003Cp\u003EAt the top right corner, you can find how to publish the new map. Here you have the result:\u003C\u002Fp\u003E\\n\u003Ciframe width=\\\"100%\\\" height=\\\"520\\\" frameborder=\\\"0\\\" src=\\\"https:\u002F\u002Frveciana.cartodb.com\u002Fviz\u002F5a239902-9074-11e5-a3da-0ecd1babdde5\u002Fembed_map\\\" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen\u003E\u003C\u002Fiframe\u003E\\n\\n\u003Cp\u003EOnce done the first time, creating new maps is really easy. I&#39;m impressed with it!\u003C\u002Fp\u003E\\n\u003Ch2 id=\\\"links\\\"\u003ELinks\u003C\u002Fh2\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\u003Ca href=\\\"\u002Fd3\u002F2015\u002F09\u002F25\u002Fd3-creating-EUROSTAT-maps.html\\\"\u003EMapping EUROSTAT data with D3js\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"http:\u002F\u002Fec.europa.eu\u002Feurostat\u002Fweb\u002Fgisco\u002Fgeodata\u002Freference-data\u002Fadministrative-units-statistical-units\\\"\u003EDownload the NUTS regions file\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"http:\u002F\u002Fdocs.cartodb.com\u002F\\\"\u003ECartoDB docs\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"http:\u002F\u002Fdocs.cartodb.com\u002Fcartodb-editor\u002F\\\"\u003ECartoDB editor docs\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\",\"tags\":[\"EUROSTAT\",\"Open Data\",\"CartoDB\"],\"date\":\"2015-11-30T00:00:00.000Z\"}"}</script>
</div>
	</body>
</html>
