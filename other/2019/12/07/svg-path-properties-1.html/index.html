<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-BD6G9PF6NH"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag('js', new Date());

			gtag('config', 'G-BD6G9PF6NH');
		</script>

		<meta charset="utf-8" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="manifest" href="/manifest.json" />
		<meta name="theme-color" content="#cdffcd" />
		<!-- HTML Meta Tags -->
		<meta
			name="description"
			content="I am a software developer and meteorologist who likes mapping. I put here the things I learn on my free time."
		/>
		<!-- Google / Search Engine Tags -->
		<meta itemprop="name" content=">GeoExamples - Roger Veciana" />
		<meta
			itemprop="description"
			content="I am a software developer and meteorologist who likes mapping. I put here the things I learn on my free time."
		/>
		<meta itemprop="image" content="https://geoexamples.com/siteImage.png" />

		<title>GeoExamples - svg-path-properties 1.0.0</title><meta name="twitter:card" content="summary" data-svelte="svelte-w2s84v"><meta name="twitter:title" content="GeoExamples - svg-path-properties 1.0.0" data-svelte="svelte-w2s84v"><meta name="twitter:description" content="&lt;p&gt;About three years" data-svelte="svelte-w2s84v"><meta name="twitter:image" content="https://geoexamples.com/images/other/svg-path-properties/twitter.png" data-svelte="svelte-w2s84v"><meta property="og:url" content="https://geoexamples.com" data-svelte="svelte-w2s84v"><meta property="og:type" content="website" data-svelte="svelte-w2s84v"><meta property="og:title" content="GeoExamples - svg-path-properties 1.0.0" data-svelte="svelte-w2s84v"><meta property="og:description" content="I am a software developer and meteorologist who likes mapping. I put here the things I learn on my free time." data-svelte="svelte-w2s84v"><meta property="og:image" content="https://geoexamples.com/images/other/svg-path-properties/twitter.png" data-svelte="svelte-w2s84v">

		

		<link rel="modulepreload" href="/_app/start-9934143f.js">
		<link rel="modulepreload" href="/_app/chunks/vendor-f4f84e30.js">
		<link rel="modulepreload" href="/_app/pages/__layout.svelte-b5745e7e.js">
		<link rel="modulepreload" href="/_app/chunks/config-b3bde751.js">
		<link rel="modulepreload" href="/_app/pages/[category]/[year]/[month]/[date]/[slug].svelte-dcec41b3.js">
		<link rel="stylesheet" href="/_app/assets/start-a8cd1609.css">
		<link rel="stylesheet" href="/_app/assets/pages/__layout.svelte-294fb61c.css">

		<script type="module">
			import { start } from "/_app/start-9934143f.js";
			start({
				target: document.querySelector("#svelte"),
				paths: {"base":"","assets":""},
				session: {},
				host: location.host,
				route: true,
				spa: false,
				trailing_slash: "never",
				hydrate: {
					status: 200,
					error: null,
					nodes: [
						import("/_app/pages/__layout.svelte-b5745e7e.js"),
						import("/_app/pages/[category]/[year]/[month]/[date]/[slug].svelte-dcec41b3.js")
					],
					page: {
						host: location.host, // TODO this is redundant
						path: "/other/2019/12/07/svg-path-properties-1.html",
						query: new URLSearchParams(""),
						params: {"category":"other","year":"2019","month":"12","date":"07","slug":"svg-path-properties-1.html"}
					}
				}
			});
		</script>
	</head>
	<body>
		<div id="svelte">


<header class="site-header"><div class="wrapper"><a class="site-title" href="/">GeoExamples - Roger Veciana</a>

<nav class="site-nav"><div href="#" class="menu-icon"><svg viewBox="0 0 18 15"><path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path><path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path><path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path></svg></div>

	<div class="trigger"><a class="page-link" href="/about">About</a><a class="page-link" href="/blog">Blog</a><a class="page-link" href="/projects">Projects</a></div></nav></div></header>

<main class="page-content"><div class="wrapper">
<div class="post"><header class="post-header"><h1 class="post-title">svg-path-properties 1.0.0</h1>
<p class="post-meta">Dec 7, 2019</p></header>

	<article class="post-content"><!-- HTML_TAG_START --><p>About three years ago now I made <a href="https://github.com/rveciana/svg-path-properties">svg-path-properties</a> while thinking on <a href="http://bl.ocks.org/rveciana/bef48021e38a77a520109d2088bff9eb">drawing labels on isolines on an HTML Canvas element</a>. I didn&#39;t expect that so many people would use it, so it was written quite fast, with some errors. So I re-wrote it in TypeScript, with better explanations and some examples will be added.</p>
<h2 id="version-1">Version 1.*</h2>
<p>The new version is written in TypeScript, process that showed me several errors and potential bugs. The API is the same with the difference that now the class can be instantiated using <em>new</em>, while maintaining the former option too. Both options are valid now, although the first one should be used:</p>
const properties = new path.svgPathProperties(&quot;M0,100 Q50,-50 100,100 T200,100&quot;);
const properties = path.svgPathProperties(&quot;M0,100 Q50,-50 100,100 T200,100&quot;);<h2 id="how-to-initialize-the-library">How to initialize the library</h2>
<h3 id="using-it-with-node">Using it with node</h3>
const path = require(&quot;svg-path-properties&quot;);
const properties = new path.svgPathProperties(&quot;M0,100 Q50,-50 100,100 T200,100&quot;);<h3 id="including-it-from-an-import">Including it from an import:</h3>
import { svgPathProperties } from &quot;svg-path-properties&quot;;
const properties = new svgPathProperties(&quot;M0,100 Q50,-50 100,100 T200,100&quot;);<h3 id="including-the-script-in-the-browser">Including the script in the browser</h3>
<p>Once the script tag has been included,</p>
const properties = new svgPathProperties.svgPathProperties(&quot;M0,100 Q50,-50 100,100 T200,100&quot;);<h2 id="methods">Methods</h2>
<p>First, create ah instance with the svg path as a string:
const properties = new path.svgPathProperties(&quot;M0,100 Q50,-50 100,100 T200,100&quot;);</p>
<p>The total length of the path can be retrieved:</p>
const length = properties.getTotalLength();<p>The position of the path at a given length (in an object of the shape {x: number, y:numebr}) is:</p>
const point = properties.getPointAtLength(200);<p>The tangent method gives the angle of the curve at a given length. Useful to draw labels. The object is the same as in the <em>getPointAtLength</em>:</p>
const tangent = properties.getTangentAtLength(200);<p><em>getPropertiesAtLength</em> returns the point position and the tangent at the same time. Returns an object like {x: number; y: number; tangentX: number; tangentY: number;}:</p>
const allProperties = properties.getPropertiesAtLength(200);<p>This last function returns an array with the different parts of the svg path. The curves can have many functions and it&#39;s difficult to see when is starting one or another. The methods returns an object like:</p>
PartProperties {
    start: Point;
    end: Point;
    length: number;
    getPointAtLength(pos: number): Point;
    getTangentAtLength(pos: number): Point;
    getPropertiesAtLength(pos: number): PointProperties;
}

const parts = properties.getParts();<h2 id="links">Links</h2>
<ul>
<li><a href="https://github.com/rveciana/svg-path-properties">svg-path-properties library</a></li>
<li><a href="http://bl.ocks.org/rveciana/bef48021e38a77a520109d2088bff9eb">Drawing labels on isolines on an HTML Canvas element</a></li>
</ul>
<!-- HTML_TAG_END --></article></div></div></main>
<footer class="site-footer"><div class="wrapper"><div class="footer-col-wrapper"><div class="footer-col  footer-col-1"><ul class="contact-list"><li>GeoExamples - Roger Veciana</li></ul></div>

	<div class="footer-col  footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/rveciana"><span class="icon  icon--github"><svg viewBox="0 0 16 16"><path fill="#89b889" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"></path></svg></span>

						<span class="username">rveciana</span></a></li>

			<li><a href="https://twitter.com/rveciana"><span class="icon  icon--twitter"><svg viewBox="0 0 16 16"><path fill="#89b889" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                    c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"></path></svg></span>

						<span class="username">rveciana</span></a></li>
			<li><a href="https://www.linkedin.com/in/rogerveciana"><span class="icon  icon--twitter"><svg width="16" height="15.28958"><path d="M 0,1.77606 Q 0,1.00386 0.54054,0.50193 1.08108,0 1.94595,0 2.79537,0 3.32047,0.49421 3.86101,1.00386 3.86101,1.8224 q 0,0.74131 -0.5251,1.23552 -0.54054,0.50965 -1.42085,0.50965 l -0.0154,0 q -0.84942,0 -1.37452,-0.50965 Q 4e-5,2.54827 4e-5,1.77606 Z m 0.20078,13.51352 0,-10.3166 3.42857,0 0,10.3166 -3.42857,0 z m 5.32818,0 3.42857,0 0,-5.76062 q 0,-0.54054 0.12355,-0.83398 0.21622,-0.52509 0.65638,-0.88803 0.44015,-0.36293 1.10424,-0.36293 1.72973,0 1.72973,2.33205 l 0,5.51351 3.42857,0 0,-5.91506 Q 16,7.08881 14.91892,5.90734 13.83784,4.72587 12.06178,4.72587 q -1.99228,0 -3.10425,1.71429 l 0,0.0309 -0.0154,0 0.0154,-0.0309 0,-1.46718 -3.42857,0 q 0.0309,0.49421 0.0309,3.07336 0,2.57915 -0.0309,7.24324 z"></path></svg></span>

						<span class="username">rogerveciana</span></a></li></ul></div>

	<div class="footer-col  footer-col-3"><p class="text">I am a software developer and meteorologist who likes mapping. I put here the things I learn on my free time.</p>
		<p class="text">Roger Veciana i Rovira</p></div></div></div></footer>



	<script type="application/json" data-type="svelte-data" data-url="/summary_pages.json">{"status":200,"statusText":"","headers":{"content-type":"application/json; charset=utf-8"},"body":"[{\"title\":\"About\",\"permalink\":\"\u002Fabout\",\"excerpt\":\"\u003Cp\u003E{{ site.author.name }}\u003C\u002Fp\u003E\"},{\"title\":\"Projects\",\"permalink\":\"\u002Fprojects\",\"excerpt\":\"\u003Cp\u003ESome of my personal projects:\u003C\u002Fp\u003E\"},{\"title\":\"CV\",\"permalink\":\"\u002Fcv\",\"excerpt\":\"\u003Ch2 id=\\\"jobs\\\"\u003EJobs\u003C\u002Fh2\u003E\",\"avoidMainMenu\":true}]"}</script>

	<script type="application/json" data-type="svelte-data" data-url="svg-path-properties-1.html.json">{"status":200,"statusText":"","headers":{"content-type":"application/json; charset=utf-8"},"body":"{\"title\":\"svg-path-properties 1.0.0\",\"contents\":\"\u003Cp\u003EAbout three years ago now I made \u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Frveciana\u002Fsvg-path-properties\\\"\u003Esvg-path-properties\u003C\u002Fa\u003E while thinking on \u003Ca href=\\\"http:\u002F\u002Fbl.ocks.org\u002Frveciana\u002Fbef48021e38a77a520109d2088bff9eb\\\"\u003Edrawing labels on isolines on an HTML Canvas element\u003C\u002Fa\u003E. I didn&#39;t expect that so many people would use it, so it was written quite fast, with some errors. So I re-wrote it in TypeScript, with better explanations and some examples will be added.\u003C\u002Fp\u003E\\n\u003Ch2 id=\\\"version-1\\\"\u003EVersion 1.*\u003C\u002Fh2\u003E\\n\u003Cp\u003EThe new version is written in TypeScript, process that showed me several errors and potential bugs. The API is the same with the difference that now the class can be instantiated using \u003Cem\u003Enew\u003C\u002Fem\u003E, while maintaining the former option too. Both options are valid now, although the first one should be used:\u003C\u002Fp\u003E\\nconst properties = new path.svgPathProperties(&quot;M0,100 Q50,-50 100,100 T200,100&quot;);\\nconst properties = path.svgPathProperties(&quot;M0,100 Q50,-50 100,100 T200,100&quot;);\u003Ch2 id=\\\"how-to-initialize-the-library\\\"\u003EHow to initialize the library\u003C\u002Fh2\u003E\\n\u003Ch3 id=\\\"using-it-with-node\\\"\u003EUsing it with node\u003C\u002Fh3\u003E\\nconst path = require(&quot;svg-path-properties&quot;);\\nconst properties = new path.svgPathProperties(&quot;M0,100 Q50,-50 100,100 T200,100&quot;);\u003Ch3 id=\\\"including-it-from-an-import\\\"\u003EIncluding it from an import:\u003C\u002Fh3\u003E\\nimport { svgPathProperties } from &quot;svg-path-properties&quot;;\\nconst properties = new svgPathProperties(&quot;M0,100 Q50,-50 100,100 T200,100&quot;);\u003Ch3 id=\\\"including-the-script-in-the-browser\\\"\u003EIncluding the script in the browser\u003C\u002Fh3\u003E\\n\u003Cp\u003EOnce the script tag has been included,\u003C\u002Fp\u003E\\nconst properties = new svgPathProperties.svgPathProperties(&quot;M0,100 Q50,-50 100,100 T200,100&quot;);\u003Ch2 id=\\\"methods\\\"\u003EMethods\u003C\u002Fh2\u003E\\n\u003Cp\u003EFirst, create ah instance with the svg path as a string:\\nconst properties = new path.svgPathProperties(&quot;M0,100 Q50,-50 100,100 T200,100&quot;);\u003C\u002Fp\u003E\\n\u003Cp\u003EThe total length of the path can be retrieved:\u003C\u002Fp\u003E\\nconst length = properties.getTotalLength();\u003Cp\u003EThe position of the path at a given length (in an object of the shape {x: number, y:numebr}) is:\u003C\u002Fp\u003E\\nconst point = properties.getPointAtLength(200);\u003Cp\u003EThe tangent method gives the angle of the curve at a given length. Useful to draw labels. The object is the same as in the \u003Cem\u003EgetPointAtLength\u003C\u002Fem\u003E:\u003C\u002Fp\u003E\\nconst tangent = properties.getTangentAtLength(200);\u003Cp\u003E\u003Cem\u003EgetPropertiesAtLength\u003C\u002Fem\u003E returns the point position and the tangent at the same time. Returns an object like {x: number; y: number; tangentX: number; tangentY: number;}:\u003C\u002Fp\u003E\\nconst allProperties = properties.getPropertiesAtLength(200);\u003Cp\u003EThis last function returns an array with the different parts of the svg path. The curves can have many functions and it&#39;s difficult to see when is starting one or another. The methods returns an object like:\u003C\u002Fp\u003E\\nPartProperties {\\n    start: Point;\\n    end: Point;\\n    length: number;\\n    getPointAtLength(pos: number): Point;\\n    getTangentAtLength(pos: number): Point;\\n    getPropertiesAtLength(pos: number): PointProperties;\\n}\\n\\nconst parts = properties.getParts();\u003Ch2 id=\\\"links\\\"\u003ELinks\u003C\u002Fh2\u003E\\n\u003Cul\u003E\\n\u003Cli\u003E\u003Ca href=\\\"https:\u002F\u002Fgithub.com\u002Frveciana\u002Fsvg-path-properties\\\"\u003Esvg-path-properties library\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003Cli\u003E\u003Ca href=\\\"http:\u002F\u002Fbl.ocks.org\u002Frveciana\u002Fbef48021e38a77a520109d2088bff9eb\\\"\u003EDrawing labels on isolines on an HTML Canvas element\u003C\u002Fa\u003E\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\",\"tags\":[\"canvas\",\"svg\"],\"date\":\"2019-12-07T00:00:00.000Z\",\"thumbnail\":\"\u002Fimages\u002Fother\u002Fsvg-path-properties\u002Ftwitter.png\"}"}</script>
</div>
	</body>
</html>
