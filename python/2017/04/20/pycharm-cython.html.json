{"title":"Cython with PyCharm community","contents":"<p>Some time ago, I explained [how to use coverage and pylint with PyCharm community][coverage]. <a href=\"http://cython.org/\">Cython</a> is also covered by PyCharm professional, but not the community edition, which makes working with cython a bit uncomfortable.</p>\n<p>Here is how I managed to do it.</p>\n<h2 id=\"syntax-hightlighting\">Syntax hightlighting</h2>\n<p>cython files end with <em>.pyx</em>. The syntaxis is similar to python, but the program doesn&#39;t recognize the file. Also, it has some special words that would give error in python, such as <em>cdef</em>. So a new file type must be created. Go to <em>File-&gt;Settings-&gt;Editor-&gt;File Types</em> and add a file type:</p>\n<img src=\"/images/python/pycharm-cython/pyx.png\"/>\n\n<p>Then, edit it to make it good for the cython syntax:</p>\n<img src=\"/images/python/pycharm-cython/cython.png\"/>\n\n<p>Since there are many words to add, and no way to do it fast, I have exported my settings in [this file][settings], which you can import from <em>File-&gt;Import Settings</em>. I&#39;ll try to keep it updated by adding more keywords.</p>\n<h2 id=\"compiling-the-cython-file\">Compiling the cython file</h2>\n<p>As explained in the <a href=\"http://docs.cython.org/en/latest/src/tutorial/cython_tutorial.html\">official cython basic tutorial</a>, the best way to compile the files is creating a <em>setup.py</em> file with the compilation options:</p>\n<p><pre><code>\nfrom distutils<span class=\"token punctuation\">.</span>core <span class=\"token keyword\">import</span> setup\nfrom Cython<span class=\"token punctuation\">.</span>Build <span class=\"token keyword\">import</span> cythonize\n\n<span class=\"token function\">setup</span><span class=\"token punctuation\">(</span>\next_modules <span class=\"token operator\">=</span> <span class=\"token function\">cythonize</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"helloworld.pyx\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n</code></pre></p>\n<p>The compilation is then made by running:</p>\npython setup.py build_ext --inplace<p>Is possible to automatize this with an <em>external tool</em>:</p>\n<p>Open <em>File-&gt;Settings-&gt;Tools-&gt;External tools</em> and click the <em>+</em> button. You will get a window that has to be filled like this:</p>\n<img src=\"/images/python/pycharm-cython/tool.png\"/>\n\n<p>You can run the compilation by going to <em>tools-&gt;External tools-&gt;cython compile</em> any moment or right clicking the file name at the project pane. Then, re-run it by clicking on the play button on the lower pane.</p>\n<p>Usually, all the cython files will be compiled at once with the <em>setup.py</em>, so there is no need for creating special configurations depending on the file.</p>\n<h2 id=\"links\">Links</h2>\n<ul>\n<li>[The settings file][settings]</li>\n<li>[Coverage with Pycharm community][coverage]</li>\n<li><a href=\"https://www.jetbrains.com/pycharm/\">PyCharm</a></li>\n<li><a href=\"http://cython.org/\">Cython</a></li>\n<li><a href=\"http://docs.cython.org/en/latest/src/tutorial/cython_tutorial.html\">Cython basic tutorial</a></li>\n<li><a href=\"https://www.jetbrains.com/help/pycharm/2016.3/new-file-type.html\">New file types in PyCharm</a></li>\n</ul>\n<p>[coverage]: {% post_url /python/2016-02-15-code-coverage-pylint-pycharm-community %}\n[settings]: /images/python/pycharm-cython/settings.jar</p>\n","tags":["PyCharm","cython"],"date":"2017-04-20T00:00:00.000Z"}