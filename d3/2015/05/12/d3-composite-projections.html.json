{"title":"D3 Composite Projections","contents":"<p>Some countries have regions sparse around the globe, which adds difficulties when drawing maps for them.</p>\n<p>D3 already had the <a href=\"http://bl.ocks.org/mbostock/5545680\">albersUsa</a> projection that solved this problem by creating a composed projection, moving Alaska and Hawaii close to the main part of the USA.\nBut the other countries didn&#39;t have a projectino like this. That&#39;s why I made <a href=\"http://rveciana.github.io/d3-composite-projections/\">this library</a>.</p>\n<script src=\"http://d3js.org/d3.v3.min.js\"></script>\n<script src=\"http://d3js.org/topojson.v1.min.js\"></script>\n<script src=\"https://raw.githubusercontent.com/rveciana/d3-composite-projections/0.0.3/composite-projections.min.js\"></script>\n<div id=\"example_map\"></div>\n\n<script>\n\n  var width = 700,\n      height = 500;\n\n  var projection = d3.geo.conicConformalFrance();\n  var path = d3.geo.path()\n      .projection(projection);\n\n  var svg = d3.select(\"#example_map\").append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .attr(\"transform\",\"translate(-130)\");\n\n  d3.json(\"https://cdn.rawgit.com/rveciana/5919944/raw/b1f826319231c3e06d6e8548bc947ca2c29dc9e8/france.json\", function(error, regions) {\n  var land = topojson.feature(regions, regions.objects.regions);\n\n  svg.selectAll(\"path\")\n    .data(land.features)\n    .enter()\n    .append(\"path\")\n    .attr(\"d\", path)\n    .style(\"stroke\",\"#000\")\n    .style(\"stroke-width\",\".5px\")\n    .style(\"fill\",\"#aca\")\n    .on(\"mouseover\", function(d,i) {\n      d3.select(this)\n        .transition()\n        .style(\"fill\", \"red\");\n      })\n    .on(\"mouseout\", function(d,i) {\n      d3.select(this)\n        .transition()\n        .style(\"fill\", \"#aca\");\n      });\n\n\n  svg\n    .append(\"path\")\n      .style(\"fill\",\"none\")\n      .style(\"stroke\",\"#000\")\n      .attr(\"d\", projection.getCompositionBorders());\n\n\n});\n\n</script>\n\n<p>It adds the composite projection for:</p>\n<ul>\n<li><a href=\"http://bl.ocks.org/rveciana/472b7749352554ca4b68\">Spain</a></li>\n<li><a href=\"http://bl.ocks.org/rveciana/02eb5b83848e0b06fa8e\">France</a></li>\n<li><a href=\"http://bl.ocks.org/rveciana/aec08199d43759e98afe\">Portugal</a></li>\n<li><a href=\"http://bl.ocks.org/rveciana/170a76b8dc1f9cfd8b2d\">USA</a></li>\n</ul>\n<p>With a function that draws a border between the composition zones by returning an SVG path.</p>\n<p>There is an example for each region, linked in the list above.</p>\n<p><a href=\"http://rveciana.github.io/d3-composite-projections/\">The library web page</a> explains the usage and installation/testing</p>\n<p>If you are going to use it, need more regions/countries or find an error, please leave a comment here.</p>\n","tags":["projections","library","npm","bower","nodejs"],"date":"2015-05-12T00:00:00.000Z"}